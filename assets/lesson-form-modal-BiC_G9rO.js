import{aT as r,r as f,j as e,x as s,aW as n}from"./index-D6AxIjPL.js";import{u as b}from"./useQuery-DvBjJu9T.js";import{a as y}from"./subjects-n5Q6IYPe.js";import{M as v}from"./index-D9tzAjiC.js";import{S as p}from"./index-CYPk6PCz.js";import"./useIcons-CPckANyl.js";function E({title:u,show:d,formValue:t,okDisabled:c,onOk:m,onCancel:x}){const[l]=r.useForm();f.useEffect(()=>{l.setFieldsValue({...t})},[t,l]);const{data:o}=b({queryKey:["subjects"],queryFn:()=>y.get({}),refetchOnWindowFocus:!1}),h=o==null?void 0:o.items.map(({id:a,name:i})=>({value:a,label:e.jsx("span",{children:i})})),j=[{value:"video",label:e.jsx("span",{children:s("app.lessons.types.video")})},{value:"pdf",label:e.jsx("span",{children:s("app.lessons.types.pdf")})},{value:"other",label:e.jsx("span",{children:s("app.lessons.types.other")})}];return e.jsxs(v,{forceRender:!0,title:u,open:d,okButtonProps:{autoFocus:!0,htmlType:"submit",disabled:c},okText:t.id===void 0?s("common.create"):s("common.edit"),cancelText:s("common.cancel"),onCancel:x,modalRender:a=>e.jsx(r,{form:l,initialValues:t,onFinish:i=>m(t.id,i),labelCol:{span:6},wrapperCol:{span:18},layout:"horizontal",children:a}),children:[!t.id&&e.jsx(r.Item,{label:s("app.fields.subject"),name:"subjectId",rules:[{required:!0}],children:e.jsx(p,{showSearch:!0,options:h})}),e.jsx(r.Item,{label:s("app.fields.title"),name:"title",rules:[{required:!0}],children:e.jsx(n,{})}),e.jsx(r.Item,{label:s("app.fields.file type"),name:"type",rules:[{required:!0}],children:e.jsx(p,{showSearch:!0,options:j})}),e.jsx(r.Item,{label:s("app.fields.url"),name:"url",rules:[{required:!0},{type:"url"}],children:e.jsx(n,{})})]})}export{E as default};
