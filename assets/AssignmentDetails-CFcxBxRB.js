import{R as Y,r as o,e as Z,f as F,g as x,h as k,i as ee,k as te,l as O,n as le,o as ne,p as se,q as ae,s as z,_ as D,w as oe,j as v,x as S,c as ie,B as re,T as ce}from"./index-D6AxIjPL.js";import{C as de}from"./index-mhv3C2lE.js";const me={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},W=Y.createContext({});var be=function(e,t){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(s[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(s[l[n]]=e[l[n]]);return s};const pe=e=>Z(e).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function ue(e,t,s){const l=o.useMemo(()=>t||pe(s),[t,s]);return o.useMemo(()=>l.map(i=>{var{span:a}=i,u=be(i,["span"]);return a==="filled"?Object.assign(Object.assign({},u),{filled:!0}):Object.assign(Object.assign({},u),{span:typeof a=="number"?a:F(e,a)})}),[l,e])}var ge=function(e,t){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(s[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(s[l[n]]=e[l[n]]);return s};function ye(e,t){let s=[],l=[],n=!1,i=0;return e.filter(a=>a).forEach(a=>{const{filled:u}=a,g=ge(a,["filled"]);if(u){l.push(g),s.push(l),l=[],i=0;return}const y=t-i;i+=a.span||1,i>=t?(i>t?(n=!0,l.push(Object.assign(Object.assign({},g),{span:y}))):l.push(g),s.push(l),l=[],i=0):l.push(g)}),l.length>0&&s.push(l),s=s.map(a=>{const u=a.reduce((g,y)=>g+(y.span||1),0);if(u<t){const g=a[a.length-1];return g.span=t-(u-(g.span||1)),a}return a}),[s,n]}const fe=(e,t)=>{const[s,l]=o.useMemo(()=>ye(t,e),[t,e]);return s},ve=e=>{let{children:t}=e;return t};function H(e){return e!=null}const _=e=>{const{itemPrefixCls:t,component:s,span:l,className:n,style:i,labelStyle:a,contentStyle:u,bordered:g,label:y,content:j,colon:w,type:m,styles:b}=e,$=s,r=o.useContext(W),{classNames:p}=r;return g?o.createElement($,{className:x({[`${t}-item-label`]:m==="label",[`${t}-item-content`]:m==="content",[`${p==null?void 0:p.label}`]:m==="label",[`${p==null?void 0:p.content}`]:m==="content"},n),style:i,colSpan:l},H(y)&&o.createElement("span",{style:Object.assign(Object.assign({},a),b==null?void 0:b.label)},y),H(j)&&o.createElement("span",{style:Object.assign(Object.assign({},a),b==null?void 0:b.content)},j)):o.createElement($,{className:x(`${t}-item`,n),style:i,colSpan:l},o.createElement("div",{className:`${t}-item-container`},(y||y===0)&&o.createElement("span",{className:x(`${t}-item-label`,p==null?void 0:p.label,{[`${t}-item-no-colon`]:!w}),style:Object.assign(Object.assign({},a),b==null?void 0:b.label)},y),(j||j===0)&&o.createElement("span",{className:x(`${t}-item-content`,p==null?void 0:p.content),style:Object.assign(Object.assign({},u),b==null?void 0:b.content)},j)))};function R(e,t,s){let{colon:l,prefixCls:n,bordered:i}=t,{component:a,type:u,showLabel:g,showContent:y,labelStyle:j,contentStyle:w,styles:m}=s;return e.map((b,$)=>{let{label:r,children:p,prefixCls:c=n,className:E,style:N,labelStyle:P,contentStyle:B,span:M=1,key:f,styles:d}=b;return typeof a=="string"?o.createElement(_,{key:`${u}-${f||$}`,className:E,style:N,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},j),m==null?void 0:m.label),P),d==null?void 0:d.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},w),m==null?void 0:m.content),B),d==null?void 0:d.content)},span:M,colon:l,component:a,itemPrefixCls:c,bordered:i,label:g?r:null,content:y?p:null,type:u}):[o.createElement(_,{key:`label-${f||$}`,className:E,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},j),m==null?void 0:m.label),N),P),d==null?void 0:d.label),span:1,colon:l,component:a[0],itemPrefixCls:c,bordered:i,label:r,type:"label"}),o.createElement(_,{key:`content-${f||$}`,className:E,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},w),m==null?void 0:m.content),N),B),d==null?void 0:d.content),span:M*2-1,component:a[1],itemPrefixCls:c,bordered:i,content:p,type:"content"})]})}const Oe=e=>{const t=o.useContext(W),{prefixCls:s,vertical:l,row:n,index:i,bordered:a}=e;return l?o.createElement(o.Fragment,null,o.createElement("tr",{key:`label-${i}`,className:`${s}-row`},R(n,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),o.createElement("tr",{key:`content-${i}`,className:`${s}-row`},R(n,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):o.createElement("tr",{key:i,className:`${s}-row`},R(n,e,Object.assign({component:a?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},je=e=>{const{componentCls:t,labelBg:s}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${O(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${O(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${O(e.padding)} ${O(e.paddingLG)}`,borderInlineEnd:`${O(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:s,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${O(e.paddingSM)} ${O(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${O(e.paddingXS)} ${O(e.padding)}`}}}}}},he=e=>{const{componentCls:t,extraColor:s,itemPaddingBottom:l,itemPaddingEnd:n,colonMarginRight:i,colonMarginLeft:a,titleMarginBottom:u}=e;return{[t]:Object.assign(Object.assign(Object.assign({},te(e)),je(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:u},[`${t}-title`]:Object.assign(Object.assign({},le),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:s,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:l,paddingInlineEnd:n},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${O(a)} ${O(i)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},xe=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}),$e=k("Descriptions",e=>{const t=ee(e,{});return he(t)},xe);var Se=function(e,t){var s={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(s[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(s[l[n]]=e[l[n]]);return s};const C=e=>{const{prefixCls:t,title:s,extra:l,column:n,colon:i=!0,bordered:a,layout:u,children:g,className:y,rootClassName:j,style:w,size:m,labelStyle:b,contentStyle:$,styles:r,items:p,classNames:c}=e,E=Se(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:N,direction:P,className:B,style:M,classNames:f,styles:d}=ne("descriptions"),h=N("descriptions",t),L=se(),X=o.useMemo(()=>{var I;return typeof n=="number"?n:(I=F(L,Object.assign(Object.assign({},me),n)))!==null&&I!==void 0?I:3},[L,n]),U=ue(L,p,g),T=ae(m),V=fe(X,U),[q,J,K]=$e(h),Q=o.useMemo(()=>({labelStyle:b,contentStyle:$,styles:{content:Object.assign(Object.assign({},d.content),r==null?void 0:r.content),label:Object.assign(Object.assign({},d.label),r==null?void 0:r.label)},classNames:{label:x(f.label,c==null?void 0:c.label),content:x(f.content,c==null?void 0:c.content)}}),[b,$,r,c,f,d]);return q(o.createElement(W.Provider,{value:Q},o.createElement("div",Object.assign({className:x(h,B,f.root,c==null?void 0:c.root,{[`${h}-${T}`]:T&&T!=="default",[`${h}-bordered`]:!!a,[`${h}-rtl`]:P==="rtl"},y,j,J,K),style:Object.assign(Object.assign(Object.assign(Object.assign({},M),d.root),r==null?void 0:r.root),w)},E),(s||l)&&o.createElement("div",{className:x(`${h}-header`,f.header,c==null?void 0:c.header),style:Object.assign(Object.assign({},d.header),r==null?void 0:r.header)},s&&o.createElement("div",{className:x(`${h}-title`,f.title,c==null?void 0:c.title),style:Object.assign(Object.assign({},d.title),r==null?void 0:r.title)},s),l&&o.createElement("div",{className:x(`${h}-extra`,f.extra,c==null?void 0:c.extra),style:Object.assign(Object.assign({},d.extra),r==null?void 0:r.extra)},l)),o.createElement("div",{className:`${h}-view`},o.createElement("table",null,o.createElement("tbody",null,V.map((I,A)=>o.createElement(Oe,{key:A,index:A,colon:i,prefixCls:h,vertical:u==="vertical",bordered:a,row:I}))))))))};C.Item=ve;const Ce=e=>z.get({url:"/assignments/available",params:oe(e),headers:{"ngrok-skip-browser-warning":"true"}}),we=e=>z.get({url:D("/assignments/:id",{id:e})}),Ee=e=>z.post({url:D("/assignment-responses/:id/start",{id:e})}),Ne=(e,t)=>z.patch({url:D("/assignment-responses/:id/submit",{id:e}),data:t}),ze={get:Ce,show:we,startAssignment:Ee,submitAnswers:Ne};var G=(e=>(e.draft="draft",e.published="published",e.canceled="canceled",e.closed="closed",e.deleted="deleted",e))(G||{});const{Title:Ie}=ce,Pe=({assignment:e,onStart:t})=>v.jsxs(de,{style:{maxWidth:700,margin:"0 auto"},title:v.jsx(Ie,{level:4,children:e.title}),extra:S(`app.assignments.types.${e.type}`),children:[v.jsxs(C,{column:1,bordered:!0,size:"small",children:[v.jsx(C.Item,{label:S("app.fields.level"),children:e.level.name}),v.jsx(C.Item,{label:S("app.fields.subject"),children:e.subject.name}),v.jsxs(C.Item,{label:S("app.fields.durationInMinutes"),children:[e.durationInMinutes," min"]}),v.jsx(C.Item,{label:S("app.fields.passingScore"),children:e.passingScore}),v.jsx(C.Item,{label:S("app.fields.availableFrom"),children:new Date(e.availableFrom).toLocaleString()}),v.jsx(C.Item,{label:S("app.fields.availableUntil"),children:new Date(e.availableUntil).toLocaleString()})]}),v.jsx(ie,{style:{marginTop:16},children:v.jsx(re,{type:"primary",onClick:()=>t(e.id),disabled:e.state!==G.published,children:S("app.actions.start-assignment")})})]}),Le=Object.freeze(Object.defineProperty({__proto__:null,default:Pe},Symbol.toStringTag,{value:"Module"}));export{Pe as A,ze as a,Le as b};
