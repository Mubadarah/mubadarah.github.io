import{r as m,a4 as Lr,a5 as Dr,bi as nt,j as x,a8 as Fr,a as un,aY as Lt,aN as fn,c as Dt,B as bt,aJ as dn,d as Ft}from"./index-D6AxIjPL.js";import{d as Be}from"./dayjs.min-D144vE-5.js";import"./ar-B7uTiKiK.js";import{i as pn,a as mn}from"./isSameOrAfter-DDZoFAlt.js";import{g as hn,b as xt,a as gn}from"./subscriptions-ZflCNUT4.js";import{u as yn}from"./useQuery-DvBjJu9T.js";import{L as vn,R as bn}from"./LessonContentViewer-CUIxH6Nm.js";import{i as Bt,S as xn}from"./SubscriptionTaskPlaylist-523anVI2.js";import{SubscriptionBreadcrumb as wn}from"./SubscriptionBreadcrumb-DFRWBM6J.js";import{TaskChat as Sn}from"./TaskChat-BCXjMX7H.js";import{A as En}from"./index-Mp_orLa3.js";import{R as On}from"./UnorderedListOutlined-JizRf90a.js";import{E as Cn}from"./index-CYPk6PCz.js";import{M as Tn}from"./index-D9tzAjiC.js";import"./index-mhv3C2lE.js";import"./LinkOutlined-BT2KasNO.js";import"./VideoCameraOutlined-Dir1Dcg5.js";import"./useIcons-CPckANyl.js";import"./index-dODVGVdm.js";import"./Pagination-DFCxWLjJ.js";import"./ClockCircleOutlined-EPF-V70M.js";import"./PlayCircleOutlined-CYaBhS8f.js";import"./ReadOutlined-CtvVfS0P.js";import"./CalendarOutlined-ClgTM4OZ.js";var Pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},In=function(t,r){return m.createElement(Lr,Dr({},t,{ref:r,icon:Pn}))},Br=m.forwardRef(In),Rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"message",theme:"outlined"},Nn=function(t,r){return m.createElement(Lr,Dr({},t,{ref:r,icon:Rn}))},jn=m.forwardRef(Nn),ht={exports:{}},Mn=ht.exports,Qt;function kn(){return Qt||(Qt=1,function(e,t){(function(r,n){e.exports=n()})(Mn,function(){return function(r,n,o){n.prototype.isToday=function(){var i="YYYY-MM-DD",l=o();return this.format(i)===l.format(i)}}})}(ht)),ht.exports}var An=kn();const Ln=nt(An);function _r(e){return t=>typeof t===e}var Dn=_r("function"),Fn=e=>e===null,er=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",tr=e=>!Bn(e)&&!Fn(e)&&(Dn(e)||typeof e=="object"),Bn=_r("undefined");function _n(e,t){const{length:r}=e;if(r!==t.length)return!1;for(let n=r;n--!==0;)if(!re(e[n],t[n]))return!1;return!0}function $n(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e.buffer),n=new DataView(t.buffer);let o=e.byteLength;for(;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0}function Un(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;for(const r of e.entries())if(!re(r[1],t.get(r[0])))return!1;return!0}function Hn(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;return!0}function re(e,t){if(e===t)return!0;if(e&&tr(e)&&t&&tr(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return _n(e,t);if(e instanceof Map&&t instanceof Map)return Un(e,t);if(e instanceof Set&&t instanceof Set)return Hn(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return $n(e,t);if(er(e)&&er(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let o=r.length;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[o]))return!1;for(let o=r.length;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!re(e[i],t[i]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}function zn(e,t){const r=m.useRef(void 0);(!r.current||!re(t,r.current))&&(r.current=t),m.useEffect(e,r.current)}function Wn(){const e=m.useRef(!0);return e.current?(e.current=!1,!0):e.current}function $r(e){const t=m.useRef(null),r=m.useRef(!1),n=m.useRef(e);m.useEffect(()=>(r.current||(t.current=n.current(),r.current=!0),()=>{t.current&&(t.current(),t.current=null)}),[])}function Vn(){const e=m.useRef(!1);return m.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),m.useCallback(()=>e.current,[])}function Gn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),t}function Ht(e={}){const[t,r]=m.useState(e),n=m.useCallback(o=>{r(i=>({...i,...o instanceof Function?o(i):o}))},[]);return[t,n]}function ot(e){$r(()=>{e()})}function rr(e){const t=m.useRef();return m.useEffect(()=>{t.current=e}),t.current}function zt(e){const t=m.useRef(!1);t.current||(e(),t.current=!0)}function Ot(e){const t=Gn(e);$r(()=>()=>t.current())}function qn(e,t){const r=Wn();m.useEffect(()=>{if(!r)return e()},t)}var Rt,nr;function Yn(){if(nr)return Rt;nr=1;var e=new Error("Element already at target scroll position"),t=new Error("Scroll cancelled"),r=Math.min,n=Date.now;Rt={left:o("scrollLeft"),top:o("scrollTop")};function o(s){return function(c,u,f,d){f=f||{},typeof f=="function"&&(d=f,f={}),typeof d!="function"&&(d=l);var h=n(),w=c[s],y=f.ease||i,v=isNaN(f.duration)?350:+f.duration,p=!1;return w===u?d(e,c[s]):requestAnimationFrame(O),g;function g(){p=!0}function O(E){if(p)return d(t,c[s]);var b=n(),S=r(1,(b-h)/v),M=y(S);c[s]=M*(u-w)+w,S<1?requestAnimationFrame(O):requestAnimationFrame(function(){d(null,c[s])})}}}function i(s){return .5*(1-Math.cos(Math.PI*s))}function l(){}return Rt}var Kn=Yn();const Jn=nt(Kn);var gt={exports:{}},Xn=gt.exports,or;function Zn(){return or||(or=1,function(e){(function(t,r){e.exports?e.exports=r():t.Scrollparent=r()})(Xn,function(){function t(n){var o=getComputedStyle(n,null).getPropertyValue("overflow");return o.indexOf("scroll")>-1||o.indexOf("auto")>-1}function r(n){if(n instanceof HTMLElement||n instanceof SVGElement){for(var o=n.parentNode;o.parentNode;){if(t(o))return o;o=o.parentNode}return document.scrollingElement||document.documentElement}}return r})}(gt)),gt.exports}var Qn=Zn();const Ur=nt(Qn);var Nt,ir;function eo(){if(ir)return Nt;ir=1;var e=function(n){return Object.prototype.hasOwnProperty.call(n,"props")},t=function(n,o){return n+r(o)},r=function(n){return n===null||typeof n=="boolean"||typeof n>"u"?"":typeof n=="number"?n.toString():typeof n=="string"?n:Array.isArray(n)?n.reduce(t,""):e(n)&&Object.prototype.hasOwnProperty.call(n.props,"children")?r(n.props.children):""};return r.default=r,Nt=r,Nt}var to=eo();const sr=nt(to);var ro=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],no=["bigint","boolean","null","number","string","symbol","undefined"];function Ct(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(oo(t))return t}function ge(e){return t=>Ct(t)===e}function oo(e){return ro.includes(e)}function Ve(e){return t=>typeof t===e}function io(e){return no.includes(e)}var so=["innerHTML","ownerDocument","style","attributes","nodeValue"];function T(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(T.array(e))return"Array";if(T.plainFunction(e))return"Function";const t=Ct(e);return t||"Object"}T.array=Array.isArray;T.arrayOf=(e,t)=>!T.array(e)&&!T.function(t)?!1:e.every(r=>t(r));T.asyncGeneratorFunction=e=>Ct(e)==="AsyncGeneratorFunction";T.asyncFunction=ge("AsyncFunction");T.bigint=Ve("bigint");T.boolean=e=>e===!0||e===!1;T.date=ge("Date");T.defined=e=>!T.undefined(e);T.domElement=e=>T.object(e)&&!T.plainObject(e)&&e.nodeType===1&&T.string(e.nodeName)&&so.every(t=>t in e);T.empty=e=>T.string(e)&&e.length===0||T.array(e)&&e.length===0||T.object(e)&&!T.map(e)&&!T.set(e)&&Object.keys(e).length===0||T.set(e)&&e.size===0||T.map(e)&&e.size===0;T.error=ge("Error");T.function=Ve("function");T.generator=e=>T.iterable(e)&&T.function(e.next)&&T.function(e.throw);T.generatorFunction=ge("GeneratorFunction");T.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;T.iterable=e=>!T.nullOrUndefined(e)&&T.function(e[Symbol.iterator]);T.map=ge("Map");T.nan=e=>Number.isNaN(e);T.null=e=>e===null;T.nullOrUndefined=e=>T.null(e)||T.undefined(e);T.number=e=>Ve("number")(e)&&!T.nan(e);T.numericString=e=>T.string(e)&&e.length>0&&!Number.isNaN(Number(e));T.object=e=>!T.nullOrUndefined(e)&&(T.function(e)||typeof e=="object");T.oneOf=(e,t)=>T.array(e)?e.indexOf(t)>-1:!1;T.plainFunction=ge("Function");T.plainObject=e=>{if(Ct(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};T.primitive=e=>T.null(e)||io(typeof e);T.promise=ge("Promise");T.propertyOf=(e,t,r)=>{if(!T.object(e)||!t)return!1;const n=e[t];return T.function(r)?r(n):T.defined(n)};T.regexp=ge("RegExp");T.set=ge("Set");T.string=Ve("string");T.symbol=Ve("symbol");T.undefined=Ve("undefined");T.weakMap=ge("WeakMap");T.weakSet=ge("WeakSet");var C=T,jt,ar;function ao(){if(ar)return jt;ar=1;var e=function(g){return t(g)&&!r(g)};function t(p){return!!p&&typeof p=="object"}function r(p){var g=Object.prototype.toString.call(p);return g==="[object RegExp]"||g==="[object Date]"||i(p)}var n=typeof Symbol=="function"&&Symbol.for,o=n?Symbol.for("react.element"):60103;function i(p){return p.$$typeof===o}function l(p){return Array.isArray(p)?[]:{}}function s(p,g){return g.clone!==!1&&g.isMergeableObject(p)?y(l(p),p,g):p}function a(p,g,O){return p.concat(g).map(function(E){return s(E,O)})}function c(p,g){if(!g.customMerge)return y;var O=g.customMerge(p);return typeof O=="function"?O:y}function u(p){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(p).filter(function(g){return Object.propertyIsEnumerable.call(p,g)}):[]}function f(p){return Object.keys(p).concat(u(p))}function d(p,g){try{return g in p}catch{return!1}}function h(p,g){return d(p,g)&&!(Object.hasOwnProperty.call(p,g)&&Object.propertyIsEnumerable.call(p,g))}function w(p,g,O){var E={};return O.isMergeableObject(p)&&f(p).forEach(function(b){E[b]=s(p[b],O)}),f(g).forEach(function(b){h(p,b)||(d(p,b)&&O.isMergeableObject(g[b])?E[b]=c(b,O)(p[b],g[b],O):E[b]=s(g[b],O))}),E}function y(p,g,O){O=O||{},O.arrayMerge=O.arrayMerge||a,O.isMergeableObject=O.isMergeableObject||e,O.cloneUnlessOtherwiseSpecified=s;var E=Array.isArray(g),b=Array.isArray(p),S=E===b;return S?E?O.arrayMerge(p,g,O):w(p,g,O):s(g,O)}y.all=function(g,O){if(!Array.isArray(g))throw new Error("first argument should be an array");return g.reduce(function(E,b){return y(E,b,O)},{})};var v=y;return jt=v,jt}var lo=ao();const Te=nt(lo);function co(...e){return e.every(t=>C.string(t)||C.array(t)||C.plainObject(t))}function uo(e,t,r){return Hr(e,t)?[e,t].every(C.array)?!e.some(dr(r))&&t.some(dr(r)):[e,t].every(C.plainObject)?!Object.entries(e).some(fr(r))&&Object.entries(t).some(fr(r)):t===r:!1}function lr(e,t,r){const{actual:n,key:o,previous:i,type:l}=r,s=xe(e,o),a=xe(t,o);let c=[s,a].every(C.number)&&(l==="increased"?s<a:s>a);return C.undefined(n)||(c=c&&a===n),C.undefined(i)||(c=c&&s===i),c}function cr(e,t,r){const{key:n,type:o,value:i}=r,l=xe(e,n),s=xe(t,n),a=o==="added"?l:s,c=o==="added"?s:l;if(!C.nullOrUndefined(i)){if(C.defined(a)){if(C.array(a)||C.plainObject(a))return uo(a,c,i)}else return re(c,i);return!1}return[l,s].every(C.array)?!c.every(Wt(a)):[l,s].every(C.plainObject)?fo(Object.keys(a),Object.keys(c)):![l,s].every(u=>C.primitive(u)&&C.defined(u))&&(o==="added"?!C.defined(l)&&C.defined(s):C.defined(l)&&!C.defined(s))}function ur(e,t,{key:r}={}){let n=xe(e,r),o=xe(t,r);if(!Hr(n,o))throw new TypeError("Inputs have different types");if(!co(n,o))throw new TypeError("Inputs don't have length");return[n,o].every(C.plainObject)&&(n=Object.keys(n),o=Object.keys(o)),[n,o]}function fr(e){return([t,r])=>C.array(e)?re(e,r)||e.some(n=>re(n,r)||C.array(r)&&Wt(r)(n)):C.plainObject(e)&&e[t]?!!e[t]&&re(e[t],r):re(e,r)}function fo(e,t){return t.some(r=>!e.includes(r))}function dr(e){return t=>C.array(e)?e.some(r=>re(r,t)||C.array(t)&&Wt(t)(r)):re(e,t)}function Ke(e,t){return C.array(e)?e.some(r=>re(r,t)):re(e,t)}function Wt(e){return t=>e.some(r=>re(r,t))}function Hr(...e){return e.every(C.array)||e.every(C.number)||e.every(C.plainObject)||e.every(C.string)}function xe(e,t){return C.plainObject(e)||C.array(e)?C.string(t)?t.split(".").reduce((n,o)=>n&&n[o],e):C.number(t)?e[t]:e:e}function pr(e,t){if([e,t].some(C.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(u=>C.plainObject(u)||C.array(u)))throw new Error("Expected plain objects or array");return{added:(u,f)=>{try{return cr(e,t,{key:u,type:"added",value:f})}catch{return!1}},changed:(u,f,d)=>{try{const h=xe(e,u),w=xe(t,u),y=C.defined(f),v=C.defined(d);if(y||v){const p=v?Ke(d,h):!Ke(f,h),g=Ke(f,w);return p&&g}return[h,w].every(C.array)||[h,w].every(C.plainObject)?!re(h,w):h!==w}catch{return!1}},changedFrom:(u,f,d)=>{if(!C.defined(u))return!1;try{const h=xe(e,u),w=xe(t,u),y=C.defined(d);return Ke(f,h)&&(y?Ke(d,w):!y)}catch{return!1}},decreased:(u,f,d)=>{if(!C.defined(u))return!1;try{return lr(e,t,{key:u,actual:f,previous:d,type:"decreased"})}catch{return!1}},emptied:u=>{try{const[f,d]=ur(e,t,{key:u});return!!f.length&&!d.length}catch{return!1}},filled:u=>{try{const[f,d]=ur(e,t,{key:u});return!f.length&&!!d.length}catch{return!1}},increased:(u,f,d)=>{if(!C.defined(u))return!1;try{return lr(e,t,{key:u,actual:f,previous:d,type:"increased"})}catch{return!1}},removed:(u,f)=>{try{return cr(e,t,{key:u,type:"removed",value:f})}catch{return!1}}}}function _e(e){const t=m.useRef(e),r=re(t.current,e),n=m.useRef(r),o=m.useRef(pr(t.current,e));return m.useEffect(()=>{t.current=e}),(n.current!==r||!r)&&(n.current=r,o.current=pr(t.current,e)),o.current}var ae="top",pe="bottom",me="right",le="left",Vt="auto",it=[ae,pe,me,le],$e="start",et="end",po="clippingParents",zr="viewport",Je="popper",mo="reference",mr=it.reduce(function(e,t){return e.concat([t+"-"+$e,t+"-"+et])},[]),Wr=[].concat(it,[Vt]).reduce(function(e,t){return e.concat([t,t+"-"+$e,t+"-"+et])},[]),ho="beforeRead",go="read",yo="afterRead",vo="beforeMain",bo="main",xo="afterMain",wo="beforeWrite",So="write",Eo="afterWrite",Oo=[ho,go,yo,vo,bo,xo,wo,So,Eo];function Se(e){return e?(e.nodeName||"").toLowerCase():null}function ue(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ke(e){var t=ue(e).Element;return e instanceof t||e instanceof Element}function de(e){var t=ue(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Gt(e){if(typeof ShadowRoot>"u")return!1;var t=ue(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Co(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},o=t.attributes[r]||{},i=t.elements[r];!de(i)||!Se(i)||(Object.assign(i.style,n),Object.keys(o).forEach(function(l){var s=o[l];s===!1?i.removeAttribute(l):i.setAttribute(l,s===!0?"":s)}))})}function To(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var o=t.elements[n],i=t.attributes[n]||{},l=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=l.reduce(function(a,c){return a[c]="",a},{});!de(o)||!Se(o)||(Object.assign(o.style,s),Object.keys(i).forEach(function(a){o.removeAttribute(a)}))})}}const Po={name:"applyStyles",enabled:!0,phase:"write",fn:Co,effect:To,requires:["computeStyles"]};function we(e){return e.split("-")[0]}var Me=Math.max,wt=Math.min,Ue=Math.round;function _t(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Vr(){return!/^((?!chrome|android).)*safari/i.test(_t())}function He(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),o=1,i=1;t&&de(e)&&(o=e.offsetWidth>0&&Ue(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Ue(n.height)/e.offsetHeight||1);var l=ke(e)?ue(e):window,s=l.visualViewport,a=!Vr()&&r,c=(n.left+(a&&s?s.offsetLeft:0))/o,u=(n.top+(a&&s?s.offsetTop:0))/i,f=n.width/o,d=n.height/i;return{width:f,height:d,top:u,right:c+f,bottom:u+d,left:c,x:c,y:u}}function qt(e){var t=He(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Gr(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Gt(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ce(e){return ue(e).getComputedStyle(e)}function Io(e){return["table","td","th"].indexOf(Se(e))>=0}function Ie(e){return((ke(e)?e.ownerDocument:e.document)||window.document).documentElement}function Tt(e){return Se(e)==="html"?e:e.assignedSlot||e.parentNode||(Gt(e)?e.host:null)||Ie(e)}function hr(e){return!de(e)||Ce(e).position==="fixed"?null:e.offsetParent}function Ro(e){var t=/firefox/i.test(_t()),r=/Trident/i.test(_t());if(r&&de(e)){var n=Ce(e);if(n.position==="fixed")return null}var o=Tt(e);for(Gt(o)&&(o=o.host);de(o)&&["html","body"].indexOf(Se(o))<0;){var i=Ce(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function st(e){for(var t=ue(e),r=hr(e);r&&Io(r)&&Ce(r).position==="static";)r=hr(r);return r&&(Se(r)==="html"||Se(r)==="body"&&Ce(r).position==="static")?t:r||Ro(e)||t}function Yt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ze(e,t,r){return Me(e,wt(t,r))}function No(e,t,r){var n=Ze(e,t,r);return n>r?r:n}function qr(){return{top:0,right:0,bottom:0,left:0}}function Yr(e){return Object.assign({},qr(),e)}function Kr(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var jo=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Yr(typeof t!="number"?t:Kr(t,it))};function Mo(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,l=r.modifiersData.popperOffsets,s=we(r.placement),a=Yt(s),c=[le,me].indexOf(s)>=0,u=c?"height":"width";if(!(!i||!l)){var f=jo(o.padding,r),d=qt(i),h=a==="y"?ae:le,w=a==="y"?pe:me,y=r.rects.reference[u]+r.rects.reference[a]-l[a]-r.rects.popper[u],v=l[a]-r.rects.reference[a],p=st(i),g=p?a==="y"?p.clientHeight||0:p.clientWidth||0:0,O=y/2-v/2,E=f[h],b=g-d[u]-f[w],S=g/2-d[u]/2+O,M=Ze(E,S,b),D=a;r.modifiersData[n]=(t={},t[D]=M,t.centerOffset=M-S,t)}}function ko(e){var t=e.state,r=e.options,n=r.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Gr(t.elements.popper,o)&&(t.elements.arrow=o))}const Ao={name:"arrow",enabled:!0,phase:"main",fn:Mo,effect:ko,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ze(e){return e.split("-")[1]}var Lo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Do(e,t){var r=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:Ue(r*o)/o||0,y:Ue(n*o)/o||0}}function gr(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.variation,l=e.offsets,s=e.position,a=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,d=l.x,h=d===void 0?0:d,w=l.y,y=w===void 0?0:w,v=typeof u=="function"?u({x:h,y}):{x:h,y};h=v.x,y=v.y;var p=l.hasOwnProperty("x"),g=l.hasOwnProperty("y"),O=le,E=ae,b=window;if(c){var S=st(r),M="clientHeight",D="clientWidth";if(S===ue(r)&&(S=Ie(r),Ce(S).position!=="static"&&s==="absolute"&&(M="scrollHeight",D="scrollWidth")),S=S,o===ae||(o===le||o===me)&&i===et){E=pe;var I=f&&S===b&&b.visualViewport?b.visualViewport.height:S[M];y-=I-n.height,y*=a?1:-1}if(o===le||(o===ae||o===pe)&&i===et){O=me;var j=f&&S===b&&b.visualViewport?b.visualViewport.width:S[D];h-=j-n.width,h*=a?1:-1}}var P=Object.assign({position:s},c&&Lo),U=u===!0?Do({x:h,y},ue(r)):{x:h,y};if(h=U.x,y=U.y,a){var H;return Object.assign({},P,(H={},H[E]=g?"0":"",H[O]=p?"0":"",H.transform=(b.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",H))}return Object.assign({},P,(t={},t[E]=g?y+"px":"",t[O]=p?h+"px":"",t.transform="",t))}function Fo(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=n===void 0?!0:n,i=r.adaptive,l=i===void 0?!0:i,s=r.roundOffsets,a=s===void 0?!0:s,c={placement:we(t.placement),variation:ze(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,gr(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,gr(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Bo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Fo,data:{}};var ft={passive:!0};function _o(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=o===void 0?!0:o,l=n.resize,s=l===void 0?!0:l,a=ue(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",r.update,ft)}),s&&a.addEventListener("resize",r.update,ft),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",r.update,ft)}),s&&a.removeEventListener("resize",r.update,ft)}}const $o={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_o,data:{}};var Uo={left:"right",right:"left",bottom:"top",top:"bottom"};function yt(e){return e.replace(/left|right|bottom|top/g,function(t){return Uo[t]})}var Ho={start:"end",end:"start"};function yr(e){return e.replace(/start|end/g,function(t){return Ho[t]})}function Kt(e){var t=ue(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Jt(e){return He(Ie(e)).left+Kt(e).scrollLeft}function zo(e,t){var r=ue(e),n=Ie(e),o=r.visualViewport,i=n.clientWidth,l=n.clientHeight,s=0,a=0;if(o){i=o.width,l=o.height;var c=Vr();(c||!c&&t==="fixed")&&(s=o.offsetLeft,a=o.offsetTop)}return{width:i,height:l,x:s+Jt(e),y:a}}function Wo(e){var t,r=Ie(e),n=Kt(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=Me(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),l=Me(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+Jt(e),a=-n.scrollTop;return Ce(o||r).direction==="rtl"&&(s+=Me(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:l,x:s,y:a}}function Xt(e){var t=Ce(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function Jr(e){return["html","body","#document"].indexOf(Se(e))>=0?e.ownerDocument.body:de(e)&&Xt(e)?e:Jr(Tt(e))}function Qe(e,t){var r;t===void 0&&(t=[]);var n=Jr(e),o=n===((r=e.ownerDocument)==null?void 0:r.body),i=ue(n),l=o?[i].concat(i.visualViewport||[],Xt(n)?n:[]):n,s=t.concat(l);return o?s:s.concat(Qe(Tt(l)))}function $t(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Vo(e,t){var r=He(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function vr(e,t,r){return t===zr?$t(zo(e,r)):ke(t)?Vo(t,r):$t(Wo(Ie(e)))}function Go(e){var t=Qe(Tt(e)),r=["absolute","fixed"].indexOf(Ce(e).position)>=0,n=r&&de(e)?st(e):e;return ke(n)?t.filter(function(o){return ke(o)&&Gr(o,n)&&Se(o)!=="body"}):[]}function qo(e,t,r,n){var o=t==="clippingParents"?Go(e):[].concat(t),i=[].concat(o,[r]),l=i[0],s=i.reduce(function(a,c){var u=vr(e,c,n);return a.top=Me(u.top,a.top),a.right=wt(u.right,a.right),a.bottom=wt(u.bottom,a.bottom),a.left=Me(u.left,a.left),a},vr(e,l,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Xr(e){var t=e.reference,r=e.element,n=e.placement,o=n?we(n):null,i=n?ze(n):null,l=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,a;switch(o){case ae:a={x:l,y:t.y-r.height};break;case pe:a={x:l,y:t.y+t.height};break;case me:a={x:t.x+t.width,y:s};break;case le:a={x:t.x-r.width,y:s};break;default:a={x:t.x,y:t.y}}var c=o?Yt(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case $e:a[c]=a[c]-(t[u]/2-r[u]/2);break;case et:a[c]=a[c]+(t[u]/2-r[u]/2);break}}return a}function tt(e,t){t===void 0&&(t={});var r=t,n=r.placement,o=n===void 0?e.placement:n,i=r.strategy,l=i===void 0?e.strategy:i,s=r.boundary,a=s===void 0?po:s,c=r.rootBoundary,u=c===void 0?zr:c,f=r.elementContext,d=f===void 0?Je:f,h=r.altBoundary,w=h===void 0?!1:h,y=r.padding,v=y===void 0?0:y,p=Yr(typeof v!="number"?v:Kr(v,it)),g=d===Je?mo:Je,O=e.rects.popper,E=e.elements[w?g:d],b=qo(ke(E)?E:E.contextElement||Ie(e.elements.popper),a,u,l),S=He(e.elements.reference),M=Xr({reference:S,element:O,placement:o}),D=$t(Object.assign({},O,M)),I=d===Je?D:S,j={top:b.top-I.top+p.top,bottom:I.bottom-b.bottom+p.bottom,left:b.left-I.left+p.left,right:I.right-b.right+p.right},P=e.modifiersData.offset;if(d===Je&&P){var U=P[o];Object.keys(j).forEach(function(H){var K=[me,pe].indexOf(H)>=0?1:-1,X=[ae,pe].indexOf(H)>=0?"y":"x";j[H]+=U[X]*K})}return j}function Yo(e,t){t===void 0&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,l=r.padding,s=r.flipVariations,a=r.allowedAutoPlacements,c=a===void 0?Wr:a,u=ze(n),f=u?s?mr:mr.filter(function(w){return ze(w)===u}):it,d=f.filter(function(w){return c.indexOf(w)>=0});d.length===0&&(d=f);var h=d.reduce(function(w,y){return w[y]=tt(e,{placement:y,boundary:o,rootBoundary:i,padding:l})[we(y)],w},{});return Object.keys(h).sort(function(w,y){return h[w]-h[y]})}function Ko(e){if(we(e)===Vt)return[];var t=yt(e);return[yr(e),t,yr(t)]}function Jo(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=o===void 0?!0:o,l=r.altAxis,s=l===void 0?!0:l,a=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,d=r.altBoundary,h=r.flipVariations,w=h===void 0?!0:h,y=r.allowedAutoPlacements,v=t.options.placement,p=we(v),g=p===v,O=a||(g||!w?[yt(v)]:Ko(v)),E=[v].concat(O).reduce(function(q,R){return q.concat(we(R)===Vt?Yo(t,{placement:R,boundary:u,rootBoundary:f,padding:c,flipVariations:w,allowedAutoPlacements:y}):R)},[]),b=t.rects.reference,S=t.rects.popper,M=new Map,D=!0,I=E[0],j=0;j<E.length;j++){var P=E[j],U=we(P),H=ze(P)===$e,K=[ae,pe].indexOf(U)>=0,X=K?"width":"height",N=tt(t,{placement:P,boundary:u,rootBoundary:f,altBoundary:d,padding:c}),Y=K?H?me:le:H?pe:ae;b[X]>S[X]&&(Y=yt(Y));var _=yt(Y),G=[];if(i&&G.push(N[U]<=0),s&&G.push(N[Y]<=0,N[_]<=0),G.every(function(q){return q})){I=P,D=!1;break}M.set(P,G)}if(D)for(var F=w?3:1,ee=function(R){var z=E.find(function(B){var W=M.get(B);if(W)return W.slice(0,R).every(function(Q){return Q})});if(z)return I=z,"break"},Z=F;Z>0;Z--){var ne=ee(Z);if(ne==="break")break}t.placement!==I&&(t.modifiersData[n]._skip=!0,t.placement=I,t.reset=!0)}}const Xo={name:"flip",enabled:!0,phase:"main",fn:Jo,requiresIfExists:["offset"],data:{_skip:!1}};function br(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function xr(e){return[ae,me,pe,le].some(function(t){return e[t]>=0})}function Zo(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,l=tt(t,{elementContext:"reference"}),s=tt(t,{altBoundary:!0}),a=br(l,n),c=br(s,o,i),u=xr(a),f=xr(c);t.modifiersData[r]={referenceClippingOffsets:a,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const Qo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zo};function ei(e,t,r){var n=we(e),o=[le,ae].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,l=i[0],s=i[1];return l=l||0,s=(s||0)*o,[le,me].indexOf(n)>=0?{x:s,y:l}:{x:l,y:s}}function ti(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=o===void 0?[0,0]:o,l=Wr.reduce(function(u,f){return u[f]=ei(f,t.rects,i),u},{}),s=l[t.placement],a=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=a,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=l}const ri={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ti};function ni(e){var t=e.state,r=e.name;t.modifiersData[r]=Xr({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const oi={name:"popperOffsets",enabled:!0,phase:"read",fn:ni,data:{}};function ii(e){return e==="x"?"y":"x"}function si(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=o===void 0?!0:o,l=r.altAxis,s=l===void 0?!1:l,a=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,d=r.tether,h=d===void 0?!0:d,w=r.tetherOffset,y=w===void 0?0:w,v=tt(t,{boundary:a,rootBoundary:c,padding:f,altBoundary:u}),p=we(t.placement),g=ze(t.placement),O=!g,E=Yt(p),b=ii(E),S=t.modifiersData.popperOffsets,M=t.rects.reference,D=t.rects.popper,I=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,j=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(S){if(i){var H,K=E==="y"?ae:le,X=E==="y"?pe:me,N=E==="y"?"height":"width",Y=S[E],_=Y+v[K],G=Y-v[X],F=h?-D[N]/2:0,ee=g===$e?M[N]:D[N],Z=g===$e?-D[N]:-M[N],ne=t.elements.arrow,q=h&&ne?qt(ne):{width:0,height:0},R=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:qr(),z=R[K],B=R[X],W=Ze(0,M[N],q[N]),Q=O?M[N]/2-F-W-z-j.mainAxis:ee-W-z-j.mainAxis,oe=O?-M[N]/2+F+W+B+j.mainAxis:Z+W+B+j.mainAxis,fe=t.elements.arrow&&st(t.elements.arrow),he=fe?E==="y"?fe.clientTop||0:fe.clientLeft||0:0,ye=(H=P==null?void 0:P[E])!=null?H:0,Ge=Y+Q-ye-he,Le=Y+oe-ye,qe=Ze(h?wt(_,Ge):_,Y,h?Me(G,Le):G);S[E]=qe,U[E]=qe-Y}if(s){var at,lt=E==="x"?ae:le,It=E==="x"?pe:me,Ee=S[b],De=b==="y"?"height":"width",ct=Ee+v[lt],Ye=Ee-v[It],J=[ae,le].indexOf(p)!==-1,te=(at=P==null?void 0:P[b])!=null?at:0,Oe=J?ct:Ee-M[De]-D[De]-te+j.altAxis,se=J?Ee+M[De]+D[De]-te-j.altAxis:Ye,ce=h&&J?No(Oe,Ee,se):Ze(h?Oe:ct,Ee,h?se:Ye);S[b]=ce,U[b]=ce-Ee}t.modifiersData[n]=U}}const ai={name:"preventOverflow",enabled:!0,phase:"main",fn:si,requiresIfExists:["offset"]};function li(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ci(e){return e===ue(e)||!de(e)?Kt(e):li(e)}function ui(e){var t=e.getBoundingClientRect(),r=Ue(t.width)/e.offsetWidth||1,n=Ue(t.height)/e.offsetHeight||1;return r!==1||n!==1}function fi(e,t,r){r===void 0&&(r=!1);var n=de(t),o=de(t)&&ui(t),i=Ie(t),l=He(e,o,r),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(n||!n&&!r)&&((Se(t)!=="body"||Xt(i))&&(s=ci(t)),de(t)?(a=He(t,!0),a.x+=t.clientLeft,a.y+=t.clientTop):i&&(a.x=Jt(i))),{x:l.left+s.scrollLeft-a.x,y:l.top+s.scrollTop-a.y,width:l.width,height:l.height}}function di(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function o(i){r.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(s){if(!r.has(s)){var a=t.get(s);a&&o(a)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||o(i)}),n}function pi(e){var t=di(e);return Oo.reduce(function(r,n){return r.concat(t.filter(function(o){return o.phase===n}))},[])}function mi(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function hi(e){var t=e.reduce(function(r,n){var o=r[n.name];return r[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var wr={placement:"bottom",modifiers:[],strategy:"absolute"};function Sr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function gi(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,o=t.defaultOptions,i=o===void 0?wr:o;return function(s,a,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},wr,i),modifiersData:{},elements:{reference:s,popper:a},attributes:{},styles:{}},f=[],d=!1,h={state:u,setOptions:function(p){var g=typeof p=="function"?p(u.options):p;y(),u.options=Object.assign({},i,u.options,g),u.scrollParents={reference:ke(s)?Qe(s):s.contextElement?Qe(s.contextElement):[],popper:Qe(a)};var O=pi(hi([].concat(n,u.options.modifiers)));return u.orderedModifiers=O.filter(function(E){return E.enabled}),w(),h.update()},forceUpdate:function(){if(!d){var p=u.elements,g=p.reference,O=p.popper;if(Sr(g,O)){u.rects={reference:fi(g,st(O),u.options.strategy==="fixed"),popper:qt(O)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(j){return u.modifiersData[j.name]=Object.assign({},j.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var b=u.orderedModifiers[E],S=b.fn,M=b.options,D=M===void 0?{}:M,I=b.name;typeof S=="function"&&(u=S({state:u,options:D,name:I,instance:h})||u)}}}},update:mi(function(){return new Promise(function(v){h.forceUpdate(),v(u)})}),destroy:function(){y(),d=!0}};if(!Sr(s,a))return h;h.setOptions(c).then(function(v){!d&&c.onFirstUpdate&&c.onFirstUpdate(v)});function w(){u.orderedModifiers.forEach(function(v){var p=v.name,g=v.options,O=g===void 0?{}:g,E=v.effect;if(typeof E=="function"){var b=E({state:u,name:p,instance:h,options:O}),S=function(){};f.push(b||S)}})}function y(){f.forEach(function(v){return v()}),f=[]}return h}}var yi=[$o,oi,Bo,Po,ri,Xo,ai,Ao,Qo],Er=gi({defaultModifiers:yi});const Re={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};Re.defaultMerge;function vi(e,t){return t}function bi(e,t){return e.filter(r=>r!==void 0)}var Or;(function(e){e[e.NOT=0]="NOT",e[e.RECORD=1]="RECORD",e[e.ARRAY=2]="ARRAY",e[e.SET=3]="SET",e[e.MAP=4]="MAP",e[e.OTHER=5]="OTHER"})(Or||(Or={}));function Cr(e){return typeof e!="object"||e===null?0:Array.isArray(e)?2:Si(e)?1:e instanceof Set?3:e instanceof Map?4:5}function xi(e){const t=new Set;for(const r of e)for(const n of[...Object.keys(r),...Object.getOwnPropertySymbols(r)])t.add(n);return t}function wi(e,t){return typeof e=="object"&&Object.prototype.propertyIsEnumerable.call(e,t)}function Zr(e){var n;let t=0,r=(n=e[0])==null?void 0:n[Symbol.iterator]();return{[Symbol.iterator](){return{next(){var o;do{if(r===void 0)return{done:!0,value:void 0};const i=r.next();if(i.done===!0){t+=1,r=(o=e[t])==null?void 0:o[Symbol.iterator]();continue}return{done:!1,value:i.value}}while(!0)}}}}}const Tr=["[object Object]","[object Module]"];function Si(e){if(!Tr.includes(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(t===void 0)return!0;const r=t.prototype;return!(r===null||typeof r!="object"||!Tr.includes(Object.prototype.toString.call(r))||!r.hasOwnProperty("isPrototypeOf"))}function Ei(e,t,r){const n={};for(const o of xi(e)){const i=[];for(const a of e)wi(a,o)&&i.push(a[o]);if(i.length===0)continue;const l=t.metaDataUpdater(r,{key:o,parents:e}),s=Qr(i,t,l);s!==Re.skip&&(o==="__proto__"?Object.defineProperty(n,o,{value:s,configurable:!0,enumerable:!0,writable:!0}):n[o]=s)}return n}function Oi(e){return e.flat()}function Ci(e){return new Set(Zr(e))}function Ti(e){return new Map(Zr(e))}function Pi(e){return e.at(-1)}const dt={mergeRecords:Ei,mergeArrays:Oi,mergeSets:Ci,mergeMaps:Ti,mergeOthers:Pi};function St(...e){return Ii({})(...e)}function Ii(e,t){const r=Ri(e,n);function n(...o){return Qr(o,r,t)}return n}function Ri(e,t){return{defaultMergeFunctions:dt,mergeFunctions:{...dt,...Object.fromEntries(Object.entries(e).filter(([r,n])=>Object.hasOwn(dt,r)).map(([r,n])=>n===!1?[r,dt.mergeOthers]:[r,n]))},metaDataUpdater:e.metaDataUpdater??vi,deepmerge:t,useImplicitDefaultMerging:e.enableImplicitDefaultMerging??!1,filterValues:e.filterValues===!1?void 0:e.filterValues??bi,actions:Re}}function Qr(e,t,r){var i;const n=((i=t.filterValues)==null?void 0:i.call(t,e,r))??e;if(n.length===0)return;if(n.length===1)return Mt(n,t,r);const o=Cr(n[0]);if(o!==0&&o!==5){for(let l=1;l<n.length;l++)if(Cr(n[l])!==o)return Mt(n,t,r)}switch(o){case 1:return Ni(n,t,r);case 2:return ji(n,t,r);case 3:return Mi(n,t,r);case 4:return ki(n,t,r);default:return Mt(n,t,r)}}function Ni(e,t,r){const n=t.mergeFunctions.mergeRecords(e,t,r);return n===Re.defaultMerge||t.useImplicitDefaultMerging&&n===void 0&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords?t.defaultMergeFunctions.mergeRecords(e,t,r):n}function ji(e,t,r){const n=t.mergeFunctions.mergeArrays(e,t,r);return n===Re.defaultMerge||t.useImplicitDefaultMerging&&n===void 0&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays?t.defaultMergeFunctions.mergeArrays(e):n}function Mi(e,t,r){const n=t.mergeFunctions.mergeSets(e,t,r);return n===Re.defaultMerge||t.useImplicitDefaultMerging&&n===void 0&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets?t.defaultMergeFunctions.mergeSets(e):n}function ki(e,t,r){const n=t.mergeFunctions.mergeMaps(e,t,r);return n===Re.defaultMerge||t.useImplicitDefaultMerging&&n===void 0&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps?t.defaultMergeFunctions.mergeMaps(e):n}function Mt(e,t,r){const n=t.mergeFunctions.mergeOthers(e,t,r);return n===Re.defaultMerge||t.useImplicitDefaultMerging&&n===void 0&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):n}function Ai(e){const{arrowRef:t,placement:r,styles:n}=e,{arrow:{color:o,display:i,length:l,position:s,spread:a}}=n,c={display:i,position:s};let u,f=a,d=l;return r.startsWith("top")?u=`0,0 ${f/2},${d} ${f},0`:r.startsWith("bottom")?u=`${f},${d} ${f/2},0 0,${d}`:r.startsWith("left")?(d=a,f=l,u=`0,0 ${f},${d/2} 0,${d}`):r.startsWith("right")&&(d=a,f=l,u=`${f},${d} ${f},0 0,${d/2}`),x.jsx("span",{ref:t,className:"__floater__arrow",style:c,children:x.jsx("svg",{height:d,version:"1.1",width:f,xmlns:"http://www.w3.org/2000/svg",children:x.jsx("polygon",{fill:o,points:u})})})}function Li({onClick:e,styles:t}){const{color:r,height:n,width:o,...i}=t;return x.jsx("button",{"aria-label":"close",onClick:e,style:i,type:"button",children:x.jsx("svg",{height:`${n}px`,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:`${o}px`,xmlns:"http://www.w3.org/2000/svg",children:x.jsx("g",{children:x.jsx("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r})})})})}function Di(e){const{content:t,footer:r,onClick:n,open:o,positionWrapper:i,showCloseButton:l,styles:s,title:a}=e,c={content:m.isValidElement(t)?t:x.jsx("div",{className:"__floater__content",style:s.content,children:t})};return a&&(c.title=m.isValidElement(a)?a:x.jsx("div",{className:"__floater__title",style:s.title,children:a})),r&&(c.footer=m.isValidElement(r)?r:x.jsx("div",{className:"__floater__footer",style:s.footer,children:r})),(l||i)&&!C.boolean(o)&&(c.close=x.jsx(Li,{onClick:n,styles:s.close})),x.jsxs("div",{className:"__floater__container",style:s.container,children:[c.close,c.title,c.content,c.footer]})}var Fi=["position","top","right","bottom","left"],A={INIT:"init",IDLE:"idle",RENDER:"render",OPENING:"opening",OPEN:"open",CLOSING:"closing"};function Bi(e){const{component:t,content:r,floaterRef:n,hideArrow:o,id:i,onClick:l,placement:s,status:a,styles:c}=e,u=m.useMemo(()=>{const{arrow:{length:y},floater:v,floaterCentered:p,floaterClosing:g,floaterOpening:O,floaterWithComponent:E}=c;let b={...v};return o||(s.startsWith("top")?b.padding=`0 0 ${y}px`:s.startsWith("bottom")?b.padding=`${y}px 0 0`:s.startsWith("left")?b.padding=`0 ${y}px 0 0`:s.startsWith("right")&&(b.padding=`0 0 0 ${y}px`)),a===A.CLOSING&&(b={...b,...g}),(a===A.OPENING||a===A.OPEN)&&(b={...b,...O}),s==="center"&&(b={...b,...p}),t&&(b={...b,...E}),b},[t,o,s,a,c]),f=["render","open","opening","closing"].includes(a),d={},h=["__floater"],w={role:"tooltip"};if(t){const y={closeFn:l,id:i,...w};d.content=m.isValidElement(t)?m.cloneElement(t,y):t(y)}else d.content=x.jsx(Di,{...e,content:r});return a===A.OPEN&&h.push("__floater__open"),o||(d.arrow=x.jsx(Ai,{...e})),f?x.jsx("div",{ref:n,id:i,style:{zIndex:c.options.zIndex},children:x.jsx("div",{className:h.join(" "),style:u,...w,children:x.jsxs("div",{className:"__floater__body",children:[d.content,d.arrow]})})}):null}var _i=m.memo(Bi),pt="react-floater-portal";function Ne(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function Pr(e){return{autoOpen:!1,debug:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1},...e}}function $i(e){if(e.startsWith("left"))return["top","bottom"];if(e.startsWith("right"))return["bottom","top"]}function Ui(e){return St({flip:{name:"flip",enabled:!0,options:{padding:20}},preventOverflow:{name:"preventOverflow",enabled:!0,options:{padding:10}}},e??{})}function en(e){if(!e)return!1;const{nodeName:t}=e;return t==="BODY"||t==="HTML"?!1:getComputedStyle(e).position==="fixed"?!0:e.parentNode instanceof HTMLElement?en(e.parentNode):!1}function kt(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function mt({data:e,debug:t=!1,title:r}){const n=console.log;t&&r&&e&&(console.groupCollapsed(`%creact-floater: ${r}`,"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(o=>{C.plainObject(o)&&o.key?n.apply(console,[o.key,o.value]):n.apply(console,[o])}):n.apply(console,[e]),console.groupEnd())}function At(e,t){return St(e,t??{})}function Hi(e,t,r,n=!1){e.removeEventListener(t,r,n)}function zi(e,t,r,n=!1){e.addEventListener(t,r,n)}function Wi(e,t,r,n=!1){let o;o=i=>{r(i),Hi(e,t,o)},zi(e,t,o,n)}function Vi(){return`rf-${Math.round(Math.random()*1e5)}`}function tn(e){m.useEffect(e,[])}function Zt(e){tn(e)}function Gi(e){const t=m.useRef(!1);t.current||(e(),t.current=!0)}function rn(e){const t=m.useRef(e);t.current=e,tn(()=>()=>t.current())}function qi(e,t){const r=m.useRef(!0);m.useEffect(()=>{r.current||e()},t),r.current&&(r.current=!1)}function Yi(e){const{children:t,hasChildren:r,internalId:n,placement:o,portalElement:i,target:l,zIndex:s}=e,a=m.useRef(null),c=m.useCallback(()=>{var u;if(Ne()){if(i&&(a.current=C.string(i)?document.querySelector(i):i),!i||!a.current){const f=document.getElementById(pt);if(f){const d=((u=f.dataset.ids)==null?void 0:u.split(",").filter(Boolean))??[];!d.includes(n)&&n&&d.push(n),f.dataset.ids=d.join(","),a.current=f}else a.current=document.createElement("div"),a.current.id=pt,a.current.dataset.ids=n,a.current.style.zIndex=`${s}`,document.body.appendChild(a.current)}!i&&!document.getElementById(pt)&&a.current&&document.body.appendChild(a.current)}},[n,i,s]);return Zt(()=>{Ne&&c()}),m.useEffect(()=>{c()},[c]),rn(()=>{var u;if(!(!Ne()||!a.current))try{if(a.current.id===pt){const f=((u=a.current.dataset.ids)==null?void 0:u.split(","))??[];f.includes(n)&&(a.current.dataset.ids=f.filter(d=>d!==n).join(",")),f.length<=1&&(document.body.removeChild(a.current),a.current=null)}}catch{a.current=null}}),a.current?!r&&!l&&o!=="center"?null:Fr.createPortal(t,a.current):null}function Ki(e){const{childRef:t,children:r,id:n,isControlled:o,onClick:i,onMount:l,onMouseEnter:s,onMouseLeave:a,status:c,style:u,styles:f,wrapperRef:d}=e;Zt(()=>{l()});let h=null;const w={...f,...u,...m.isValidElement(r)?r.props.style:void 0},y=`${n}-wrapper`;let v={"aria-describedby":[A.OPENING,A.OPEN,A.CLOSING].includes(c)?n:void 0,style:w};return o||(v={...v,onClick:i,onMouseEnter:s,onMouseLeave:a}),r&&(m.Children.count(r)===1&&m.isValidElement(r)&&r.type!==m.Fragment?h=C.function(r.type)?x.jsx("span",{ref:d,id:y,...v,children:m.cloneElement(m.Children.only(r),{innerRef:t})}):m.cloneElement(m.Children.only(r),{id:y,ref:d,...v}):h=x.jsx("span",{ref:d,id:y,...v,children:r})),h}var Ji=m.memo(Ki),Xi={zIndex:100};function Zi(e){const{options:t={},...r}=e??{};return St({arrow:{color:"#fff",display:"inline-flex",length:16,position:"absolute",spread:32},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},content:{fontSize:15},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},floaterClosing:{opacity:0,visibility:"visible"},floaterOpening:{opacity:1,visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},wrapper:{cursor:"help",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},options:St(Xi,t)},r)}function Qi(e){const{autoOpen:t=!1,callback:r,children:n,component:o,content:i,debug:l=!1,disableFlip:s=!1,disableHoverToClick:a=!1,event:c="click",eventDelay:u=.4,footer:f,getPopper:d,hideArrow:h=!1,id:w,modifiers:y,offset:v=15,open:p,placement:g="bottom",portalElement:O,showCloseButton:E=!1,style:b,styles:S,target:M,title:D,wrapperOptions:I}=Pr(e),[j,P]=m.useReducer((J,te)=>({...J,...te}),{currentPlacement:g,positionWrapper:!!(I!=null&&I.position)&&!!M,status:A.INIT,statusWrapper:A.INIT}),U=m.useRef(null),H=m.useRef(null),K=m.useRef(),X=m.useRef(null),N=m.useRef(Vi()),Y=m.useRef(!1),_=m.useRef(),G=m.useRef(j),F=m.useRef(),ee=m.useRef(null),Z=m.useRef({}),{currentPlacement:ne,positionWrapper:q,status:R,statusWrapper:z}=j,{changed:B}=_e(j),{changed:W}=_e(e),Q=m.useCallback((J,te)=>{Y.current&&(P(J),G.current={...j,...J},te&&te())},[P,j]),oe=m.useCallback(J=>{let te=G.current.status===A.OPEN?A.CLOSING:A.RENDER;C.undefined(J)||(te=J),Q({status:te,statusWrapper:te===A.CLOSING?A.RENDER:A.IDLE})},[Q]),fe=m.useRef(()=>Ne()?M?C.domElement(M)?M:document.querySelector(M):H.current??ee.current:null),he=m.useMemo(()=>Ne()&&(l||!!window.ReactFloaterDebug),[l]),ye=m.useMemo(()=>c==="hover"&&kt()&&!a?"click":c,[a,c]),Ge=m.useMemo(()=>{var Oe;const J=Zi(S),te=fe.current();if(q){let se;R!==A.IDLE?se=J.wrapperPosition:z===A.RENDER&&(se=(Oe=F.current)==null?void 0:Oe.state.styles),J.wrapper={...J.wrapper,...se}}if(te){const se=window.getComputedStyle(te);Z.current?J.wrapper={...J.wrapper,...Z.current}:["relative","static"].includes(se.position)||(Z.current={},q||(Fi.forEach(ce=>{Z.current[ce]=se[ce]}),J.wrapper={...J.wrapper,...Z.current}))}return J},[q,R,z,S]),Le=m.useCallback(()=>{const J=G.current.status===A.RENDER?A.OPENING:A.IDLE,te=fe.current();if(g==="center")setTimeout(()=>{Q({status:J})},100);else if(te){if(X.current){const{arrow:Oe,flip:se,offset:ce,...cn}=Ui(y);_.current=Er(te,X.current,{placement:g,strategy:en(fe.current())?"fixed":"absolute",modifiers:[At({name:"arrow",enabled:!h,options:{element:U.current,padding:8}},Oe),At({name:"flip",enabled:!s,options:{altAxis:!1,fallbackPlacements:$i(g||"bottom")}},se),At({name:"offset",enabled:!0,options:{offset:[0,v]}},ce),{name:"updatePlacement",enabled:!0,phase:"afterWrite",fn:({instance:Fe,state:ie})=>{ie.placement!==G.current.currentPlacement&&(_.current=Fe,Q({currentPlacement:ie.placement}))}},{name:"applyArrowStyle",enabled:!0,phase:"write",fn:({state:Fe})=>{const{elements:{arrow:ie},placement:ut}=Fe;ie&&(ut.startsWith("top")?(ie.style.bottom="0px",ie.style.right=""):ut.startsWith("bottom")?(ie.style.top="0px",ie.style.right=""):ut.startsWith("left")?(ie.style.right="0px",ie.style.bottom=""):ut.startsWith("right")&&(ie.style.left="0px",ie.style.bottom=""))}},...Object.values(cn)],onFirstUpdate:Fe=>{Q({currentPlacement:Fe.placement,status:J}),g!==Fe.placement&&setTimeout(()=>{var ie;(ie=_.current)==null||ie.forceUpdate()})}}),d&&_.current&&d(_.current,"floater")}else Q({status:A.IDLE});if(ee.current&&!F.current&&G.current.positionWrapper){const Oe=I!=null&&I.offset?I.offset:0;F.current=Er(te,ee.current,{placement:(I==null?void 0:I.placement)??g,modifiers:[{name:"arrow",enabled:!1},{name:"offset",options:{offset:[0,Oe]}},{name:"flip",enabled:!1}],onFirstUpdate:se=>{Q({statusWrapper:A.RENDER}),g!==se.placement&&setTimeout(()=>{var ce;(ce=F.current)==null||ce.forceUpdate()})}}),d&&d(F.current,"wrapper")}}},[s,d,h,y,v,g,Q,I.offset,I==null?void 0:I.placement]),qe=m.useRef(()=>{_.current&&_.current.forceUpdate(),F.current&&F.current.forceUpdate()}),at=m.useRef(()=>{F.current&&F.current.forceUpdate(),Q({status:G.current.status===A.OPENING?A.OPEN:A.IDLE},()=>{r&&r(G.current.status===A.OPEN?"open":"close",Pr(e))})}),lt=m.useCallback(()=>{C.boolean(p)||(ye==="click"||ye==="hover"&&q)&&(mt({title:"click",data:[{event:c,status:R===A.OPEN?"closing":"opening"}],debug:he}),oe(R==="idle"?A.RENDER:void 0))},[he,ye,c,p,q,R,oe]),It=m.useCallback(()=>{C.boolean(p)||kt()||ye!=="hover"||(mt({title:"mouseEnter",data:[{key:"originalEvent",value:c}],debug:he}),R===A.IDLE&&(clearTimeout(K.current),K.current=void 0,oe(A.RENDER)))},[he,ye,c,p,R,oe]),Ee=m.useCallback(()=>{if(!(C.boolean(p)||kt())&&ye==="hover"){mt({title:"mouseLeave",data:[{key:"originalEvent",value:c}],debug:he});const J=[A.OPENING,A.OPEN].includes(R);u?q||J&&(clearTimeout(K.current),K.current=window.setTimeout(()=>{oe(),K.current=void 0},u*1e3)):oe(R===A.CLOSING?A.IDLE:A.CLOSING)}},[he,ye,c,u,p,q,R,oe]),De=m.useCallback(()=>{q&&Le()},[Le,q]),ct=()=>{_.current&&(_.current.destroy(),_.current=void 0),F.current&&(F.current.destroy(),F.current=void 0)};Gi(()=>{Ne()&&window.addEventListener("load",qe.current)}),Zt(()=>{Y.current=!0,mt({title:"init",data:{hasChildren:!!n,hasTarget:!!M,isControlled:C.boolean(p),positionWrapper:q,target:fe.current(),floater:X.current},debug:he}),Le()}),rn(()=>{Y.current=!1,ct(),window.removeEventListener("load",qe.current)}),qi(()=>{if(Ne()){if(W("open")){let J;C.boolean(p)&&(J=p?A.RENDER:A.CLOSING),oe(J)}(W("wrapperOptions.position")||W("target"))&&Q({positionWrapper:!!(I!=null&&I.position)&&!!M}),(B("status",A.IDLE)&&p||B("status",A.IDLE,A.INIT)&&t)&&oe(A.RENDER),B("status",A.RENDER)&&(_.current&&_.current.destroy(),Le()),X.current&&B("status",[A.RENDER,A.CLOSING])&&Wi(X.current,"transitionend",at.current),B("status",A.IDLE,A.CLOSING)&&_.current&&(_.current.destroy(),_.current=void 0,F.current&&F.current.forceUpdate())}});const Ye=x.jsx(Ji,{childRef:H,id:w??N.current,isControlled:C.boolean(p),onClick:lt,onMount:De,onMouseEnter:It,onMouseLeave:Ee,status:R,style:b,styles:Ge.wrapper,wrapperRef:ee,children:n});return x.jsxs(x.Fragment,{children:[x.jsxs(Yi,{hasChildren:!!n,internalId:N.current,placement:ne,portalElement:O,target:M,zIndex:Ge.options.zIndex,children:[x.jsx(_i,{arrowRef:U,component:o,content:i,floaterRef:X,footer:f,hideArrow:h||ne==="center",id:w??N.current,onClick:lt,placement:ne,positionWrapper:q,showCloseButton:E,status:R,styles:Ge,title:D}),q&&Ye]}),!q&&Ye]})}var es=Object.defineProperty,ts=(e,t,r)=>t in e?es(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$=(e,t,r)=>ts(e,typeof t!="symbol"?t+"":t,r);function rs(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function nn(e){return e?e.getBoundingClientRect():null}function ns(e=!1){const{body:t,documentElement:r}=document;if(!t||!r)return 0;if(e){const n=[t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight].sort((i,l)=>i-l),o=Math.floor(n.length/2);return n.length%2===0?(n[o-1]+n[o])/2:n[o]}return Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}function Pe(e){if(!e)return null;if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function os(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function rt(e,t,r){if(!e)return je();const n=Ur(e);if(n){if(n.isSameNode(je()))return r?document:je();if(!(n.scrollHeight>n.offsetHeight)&&!t)return n.style.overflow="initial",je()}return n}function Pt(e,t){if(!e)return!1;const r=rt(e,t);return r?!r.isSameNode(je()):!1}function is(e){return e.offsetParent!==document.body}function We(e,t="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:r}=e,n=os(e);return r==="BODY"||r==="HTML"?!1:n&&n.position===t?!0:e.parentNode?We(e.parentNode,t):!1}function ss(e){var t;if(!e)return!1;let r=e;for(;r&&r!==document.body;){if(r instanceof HTMLElement){const{display:n,visibility:o}=getComputedStyle(r);if(n==="none"||o==="hidden")return!1}r=(t=r.parentElement)!=null?t:null}return!0}function as(e,t,r){var n,o,i;const l=nn(e),s=rt(e,r),a=Pt(e,r),c=We(e);let u=0,f=(n=l==null?void 0:l.top)!=null?n:0;if(a&&c){const d=(o=e==null?void 0:e.offsetTop)!=null?o:0,h=(i=s==null?void 0:s.scrollTop)!=null?i:0;f=d-h}else s instanceof HTMLElement&&(u=s.scrollTop,!a&&!We(e)&&(f+=u),s.isSameNode(je())||(f+=je().scrollTop));return Math.floor(f-t)}function ls(e,t,r){var n;if(!e)return 0;const{offsetTop:o=0,scrollTop:i=0}=(n=Ur(e))!=null?n:{};let l=e.getBoundingClientRect().top+i;o&&(Pt(e,r)||is(e))&&(l-=o);const s=Math.floor(l-t);return s<0?0:s}function je(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function cs(e,t){const{duration:r,element:n}=t;return new Promise((o,i)=>{const{scrollTop:l}=n,s=e>l?e-l:l-e;Jn.top(n,e,{duration:s<100?50:r},a=>a&&a.message!=="Element already at target scroll position"?i(a):o())})}var V={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},ve={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},k={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},L={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"},on="react-joyride-portal";function us(e){const t={};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function sn(e=navigator.userAgent){let t=e;return typeof window>"u"?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":window.opera||e.includes(" OPR/")?t="opera":typeof window.InstallTrigger<"u"?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function vt(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function be(e,t={}){const{defaultValue:r,step:n,steps:o}=t;let i=sr(e);if(i)(i.includes("{step}")||i.includes("{steps}"))&&n&&o&&(i=i.replace("{step}",n.toString()).replace("{steps}",o.toString()));else if(m.isValidElement(e)&&!Object.values(e.props).length&&vt(e.type)==="function"){const l=e.type({});i=be(l,t)}else i=sr(r);return i}function fs(e){const t=/^#?([\da-f])([\da-f])([\da-f])$/i,r=e.replace(t,(o,i,l,s)=>i+i+l+l+s+s),n=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(r);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function ds(e,t,r){const{action:n}=t,o=r&&[V.PREV,V.NEXT].includes(n);return e.disableBeacon||e.placement==="center"||o}function Ir(){return!["chrome","safari","firefox","opera"].includes(sn())}function Ae({data:e,debug:t=!1,title:r,warn:n=!1}){var o;const i=n?(o=console.warn)!=null?o:console.error:console.log;t&&(r&&e?(console.groupCollapsed(`%creact-joyride: ${r}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(l=>{C.plainObject(l)&&l.key?i.apply(console,[l.key,l.value]):i.apply(console,[l])}):i.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function ps(e,t){const r=us(t);return{...e,...r}}function ms(e,...t){if(!C.plainObject(e))throw new TypeError("Expected an object");const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&(t.includes(n)||(r[n]=e[n]));return r}function hs(e,...t){if(!C.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&t.includes(n)&&(r[n]=e[n]);return r}function Ut(e,t,r){const n=i=>i.replace("{step}",String(t)).replace("{steps}",String(r));if(vt(e)==="string")return n(e);if(!m.isValidElement(e))return e;const{children:o}=e.props;if(vt(o)==="string"&&o.includes("{step}"))return m.cloneElement(e,{children:n(o)});if(Array.isArray(o))return m.cloneElement(e,{children:o.map(i=>typeof i=="string"?n(i):Ut(i,t,r))});if(vt(e.type)==="function"&&!Object.values(e.props).length){const i=e.type({});return Ut(i,t,r)}return e}function gs(e){const{isFirstStep:t,lifecycle:r,previousLifecycle:n,scrollToFirstStep:o,step:i,target:l}=e;return!i.disableScrolling&&(!t||o||r===k.TOOLTIP)&&i.placement!=="center"&&(!i.isFixed||!We(l))&&n!==r&&[k.BEACON,k.TOOLTIP].includes(r)}var ys={modifiers:{preventOverflow:{options:{rootBoundary:"viewport"}}},wrapperOptions:{offset:-18,position:!0}},an={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},vs={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:an,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},bs={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},xs={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Xe={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},Rr={borderRadius:4,position:"absolute"};function ws(e,t){var r,n,o,i,l;const{floaterProps:s,styles:a}=e,c=Te((r=t.floaterProps)!=null?r:{},s??{}),u=Te(a??{},(n=t.styles)!=null?n:{}),f=Te(xs,u.options||{}),d=t.placement==="center"||t.disableBeacon;let{width:h}=f;window.innerWidth>480&&(h=380),"width"in f&&(h=typeof f.width=="number"&&window.innerWidth<f.width?window.innerWidth-30:f.width);const w={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:f.zIndex},y={beacon:{...Xe,display:d?"none":"inline-block",height:f.beaconSize,position:"relative",width:f.beaconSize,zIndex:f.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:f.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${fs(f.primaryColor).join(",")}, 0.2)`,border:`2px solid ${f.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:f.backgroundColor,borderRadius:5,boxSizing:"border-box",color:f.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:h},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Xe,backgroundColor:f.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Xe,color:f.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Xe,color:f.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Xe,color:f.textColor,fontSize:14},overlay:{...w,backgroundColor:f.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...w},overlayLegacyCenter:{...w,backgroundColor:f.overlayColor},spotlight:{...Rr,backgroundColor:"gray"},spotlightLegacy:{...Rr,boxShadow:`0 0 0 9999px ${f.overlayColor}, ${f.spotlightShadow}`},floaterStyles:{arrow:{color:(l=(i=(o=c==null?void 0:c.styles)==null?void 0:o.arrow)==null?void 0:i.color)!=null?l:f.arrowColor},options:{zIndex:f.zIndex+100}},options:f};return Te(y,u)}function Ss(e){return hs(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function Et(e,t){var r,n,o,i,l,s;if(!t)return null;const a=t??{},c=Te.all([vs,Ss(e),a],{isMergeableObject:C.plainObject}),u=ws(e,c),f=Pt(Pe(c.target),c.disableScrollParentFix),d=Te.all([ys,(r=e.floaterProps)!=null?r:{},(n=c.floaterProps)!=null?n:{}]);return d.offset=c.offset,d.styles=Te((o=d.styles)!=null?o:{},u.floaterStyles),d.offset+=(l=(i=e.spotlightPadding)!=null?i:c.spotlightPadding)!=null?l:0,c.placementBeacon&&d.wrapperOptions&&(d.wrapperOptions.placement=c.placementBeacon),f&&d.modifiers.preventOverflow&&(d.modifiers.preventOverflow.options={...d.modifiers.preventOverflow.options,rootBoundary:"viewport",boundary:"clippingParents"}),{...c,locale:Te.all([an,(s=e.locale)!=null?s:{},c.locale||{}]),floaterProps:d,styles:ms(u,"floaterStyles")}}function ln(e,t=!1){return C.plainObject(e)?e.target?!0:(Ae({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(Ae({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function Nr(e,t=!1){return C.array(e)?e.every(r=>ln(r,t)):(Ae({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var Es={action:"init",controlled:!1,index:0,lifecycle:k.INIT,origin:null,size:0,status:L.IDLE},Os=class{constructor(e){$(this,"beaconPopper"),$(this,"tooltipPopper"),$(this,"data",new Map),$(this,"listener"),$(this,"props"),$(this,"store",new Map),$(this,"updateState",(o,i=!1)=>{this.setState({...this.getState(),...this.prepareState(o,i)})}),$(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),$(this,"getPopper",o=>o==="beacon"?this.beaconPopper:this.tooltipPopper),$(this,"setPopper",(o,i)=>{var l,s;i==="wrapper"?this.beaconPopper=o:this.tooltipPopper=o,o&&this.store.get("lifecycle")===k.COMPLETE&&this.updateState({action:V.UPDATE,lifecycle:k.INIT});const a=(s=(l=this.getStep())==null?void 0:l.floaterProps)==null?void 0:s.getPopper;a&&a(o,i)}),$(this,"addListener",o=>{this.listener=o}),$(this,"setSteps",o=>{const{size:i,status:l}=this.getState(),s={size:o.length,status:l};this.data.set("steps",o),l===L.WAITING&&!i&&o.length&&(s.status=L.RUNNING),this.updateState(s)}),$(this,"close",(o=null)=>{const{index:i,status:l}=this.getState();l===L.RUNNING&&this.updateState({action:V.CLOSE,index:i+1,origin:o,lifecycle:k.COMPLETE})}),$(this,"go",o=>{const{controlled:i,status:l}=this.getState();if(i||l!==L.RUNNING)return;const s=this.getStep(o);this.updateState({action:V.GO,index:o,lifecycle:k.COMPLETE,status:s?l:L.FINISHED})}),$(this,"info",()=>this.getState()),$(this,"next",()=>{const{index:o,status:i}=this.getState();i===L.RUNNING&&this.updateState({action:V.NEXT,index:this.getUpdatedIndex(o+1),lifecycle:k.COMPLETE})}),$(this,"open",()=>{const{status:o}=this.getState();o===L.RUNNING&&this.updateState({action:V.UPDATE,lifecycle:k.TOOLTIP})}),$(this,"prev",()=>{const{index:o,status:i}=this.getState();i===L.RUNNING&&this.updateState({action:V.PREV,index:this.getUpdatedIndex(o-1),lifecycle:k.COMPLETE})}),$(this,"reset",(o=!1)=>{const{controlled:i}=this.getState();i||this.updateState({action:V.RESET,index:0,lifecycle:k.COMPLETE,status:o?L.RUNNING:L.READY})}),$(this,"skip",()=>{const{status:o}=this.getState();o===L.RUNNING&&this.updateState({action:V.SKIP,lifecycle:k.COMPLETE,status:L.SKIPPED})}),$(this,"start",o=>{const{index:i,size:l}=this.getState();this.updateState({action:V.START,index:C.number(o)?o:i,status:l?L.RUNNING:L.WAITING},!0)}),$(this,"stop",(o=!1)=>{const{index:i,status:l}=this.getState();[L.FINISHED,L.SKIPPED].includes(l)||this.updateState({action:V.STOP,index:i+(o?1:0),lifecycle:k.COMPLETE,status:L.PAUSED})});const{continuous:t=!1,stepIndex:r,steps:n=[]}=e??{};this.setState({action:V.INIT,controlled:C.number(r),continuous:t,index:C.number(r)?r:0,lifecycle:k.INIT,origin:null,status:n.length?L.READY:L.IDLE},!0),this.setSteps(n),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.props=e??{steps:[]}}getStep(e){const t=this.data.get("steps"),{index:r}=this.getState();return Et(this.props,t[e??r])}getUpdatedIndex(e){const{size:t}=this.getState();return Math.min(Math.max(e,0),t)}hasUpdatedState(e){return!re(e,this.getState())}prepareState(e,t=!1){var r,n,o,i,l,s;const{action:a,controlled:c,index:u,size:f,status:d}=this.getState(),h=(r=e.index)!=null?r:u;return{action:(n=e.action)!=null?n:a,controlled:c,index:c&&!t?u:h,lifecycle:(o=e.lifecycle)!=null?o:k.INIT,origin:(i=e.origin)!=null?i:null,size:(l=e.size)!=null?l:f,status:(s=e.status)!=null?s:d}}setState(e,t=!1){const r=this.getState(),{action:n,index:o,lifecycle:i,origin:l=null,size:s,status:a}={...r,...e};this.store.set("action",n),this.store.set("index",o),this.store.set("lifecycle",i),this.store.set("origin",l),this.store.set("size",s),this.store.set("status",a),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}getState(){var e;return(e=this==null?void 0:this.store)!=null&&e.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...Es}}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function Cs(e){return new Os(e)}function Ts(e){const{callback:t,continuous:r,debug:n,disableScrollParentFix:o,getHelpers:i,run:l,scrollDuration:s,scrollOffset:a,scrollToFirstStep:c,stepIndex:u,steps:f}=e,d=m.useRef(Cs(e)),[h,w]=Ht(d.current.getState()),{action:y,controlled:v,index:p,lifecycle:g,size:O,status:E}=h,b=m.useRef(null),S=rr(e),M=rr(h),{changed:D}=_e(e),{changed:I,changedFrom:j}=_e(h),P=m.useMemo(()=>Et(e,f[p]),[p,e,f]),U=m.useMemo(()=>Et(e,f[p-1]),[p,e,f]);zt(()=>{d.current.addListener(K=>{w(K)})});const H=m.useCallback(K=>{var X,N,Y,_,G,F;if(!P)return;const ee=Pe(P.target),Z=gs({isFirstStep:p===0,lifecycle:g,previousLifecycle:K.lifecycle,scrollToFirstStep:c,step:P,target:ee}),ne=d.current.getPopper("beacon"),q=d.current.getPopper("tooltip");if(E===L.RUNNING&&Z){const R=Pt(ee,o),z=rt(ee,o);let B=Math.floor(ls(ee,a,o))||0;if(Ae({title:"scrollToStep",data:[{key:"index",value:p},{key:"lifecycle",value:g},{key:"status",value:E}],debug:n}),g===k.BEACON&&ne){const{modifiersData:W,placement:Q}=(X=ne.state)!=null?X:{},{offset:oe}=W??{},fe=(Y=(N=oe==null?void 0:oe.top)==null?void 0:N.y)!=null?Y:0;!["bottom"].includes(Q)&&!R&&(B=Math.floor(fe-a))}else if(g===k.TOOLTIP&&q){const{modifiersData:W,placement:Q}=(_=q.state)!=null?_:{},{offset:oe}=W??{},fe=(F=(G=oe==null?void 0:oe.top)==null?void 0:G.y)!=null?F:0,he=!!Q&&Q!==P.placement;["top","right","left"].includes(Q)&&!he&&!R?B=Math.floor(fe-a):B-=P.spotlightPadding}B=B>=0?B:0,E===L.RUNNING&&cs(B,{element:z,duration:s}).then(()=>{setTimeout(()=>{var W;(W=d.current.getPopper("tooltip"))==null||W.update()},10)})}},[n,o,p,g,s,a,c,E,P]);return ot(()=>{l&&O&&Nr(f,n)&&d.current.start(),i&&i(d.current.getHelpers())}),qn(()=>{l&&O&&E===L.IDLE&&d.current.updateState({status:L.READY}),i&&i(d.current.getHelpers())},[i,l,O,E]),zn(()=>{var K,X,N,Y;if(!S||!M)return;(I("action",[V.NEXT,V.PREV,V.SKIP,V.CLOSE])||b.current===V.CLOSE&&y===V.START)&&(b.current=y),E===L.RUNNING&&P&&g===k.INIT&&d.current.updateState({action:(K=b.current)!=null?K:V.UPDATE,lifecycle:k.READY}),O&&!P&&g===k.INIT&&d.current.updateState({action:V.UPDATE,lifecycle:k.COMPLETE,status:L.FINISHED}),E===L.RUNNING&&(P==null?void 0:P.placement)==="center"&&I("lifecycle",k.COMPLETE)&&d.current.updateState({action:V.UPDATE,lifecycle:k.INIT});const G=Pe(P==null?void 0:P.target),F=!!G;P&&F&&ss(G)?j("lifecycle",k.INIT,k.READY)&&(t==null||t({...h,action:(X=b.current)!=null?X:y,step:P,type:ve.STEP_BEFORE})):P&&E===L.RUNNING&&(console.warn(F?"Target not visible":"Target not mounted",P),t==null||t({...h,type:ve.TARGET_NOT_FOUND,step:P}),v||d.current.updateState({action:V.UPDATE,index:p+(y===V.PREV?-1:1)})),P&&I("lifecycle",k.READY)&&d.current.updateState({action:V.UPDATE,lifecycle:ds(P,h,r)?k.TOOLTIP:k.BEACON}),P&&I("lifecycle",k.BEACON)&&(t==null||t({...h,step:P,type:ve.BEACON})),P&&I("lifecycle",k.TOOLTIP)&&(t==null||t({...h,step:P,type:ve.TOOLTIP}));const ee=E===L.RUNNING||v&&E===L.PAUSED&&!!P,Z=P??U;if(ee&&Z&&I("lifecycle",k.COMPLETE,k.TOOLTIP)&&(F||!P)&&(t==null||t({...h,action:(N=b.current)!=null?N:V.UPDATE,index:(Y=M.index)!=null?Y:p,lifecycle:g,step:Z,type:ve.STEP_AFTER})),E===L.WAITING&&d.current.updateState({status:L.RUNNING}),D()){const{stepIndex:q,steps:R}=S;if(re(R,f)||(Nr(f,n)?d.current.updateState({size:f.length}):console.warn("Steps are not valid",f)),D("run"))l?d.current.getState().size&&d.current.start(u):d.current.stop();else if(C.number(u)&&D("stepIndex")){const z=C.number(q)&&q<u?V.NEXT:V.PREV;[L.FINISHED,L.SKIPPED].includes(E)||d.current.updateState({action:z,index:u},!0)}}I("index")&&Ae({title:`step:${g}`,data:[{key:"props",value:e}],debug:n}),I("lifecycle",k.COMPLETE)&&p&&p>=O&&d.current.updateState({action:V.UPDATE,lifecycle:k.COMPLETE,status:L.FINISHED}),U&&I("status",[L.FINISHED,L.SKIPPED])&&(t==null||t({...h,index:p-1,step:U,type:ve.TOUR_END}),d.current.reset()),P&&j("status",[L.IDLE,L.READY,L.PAUSED],L.RUNNING)&&(t==null||t({...h,step:P,type:ve.TOUR_START})),P&&I("action",V.STOP)&&(t==null||t({...h,step:P,type:ve.TOUR_STATUS})),P&&I("action",V.RESET)&&(t==null||t({...h,step:P,type:ve.TOUR_STATUS})),H(M)},[y,t,D,I,j,r,v,n,p,g,S,M,U,e,l,H,O,h,E,P,u,f]),d}function Ps(e){const[{element:t,useExternalPortal:r},n]=Ht({useExternalPortal:!1,element:null});return ot(()=>{if(e)if(C.domElement(e))n({element:e,useExternalPortal:!0});else{const o=document.querySelector(e);o&&n({element:o})}if(!e){const o=document.createElement("div");o.id=on,document.body.appendChild(o),n({element:o})}}),Ot(()=>{!t||r||t.parentNode===document.body&&document.body.removeChild(t)}),t}function Is({styles:e}){return x.jsx("div",{className:"react-joyride__spotlight","data-test-id":"spotlight",style:e},"JoyrideSpotlight")}function Rs(e){const{continuous:t,debug:r,disableOverlay:n,disableOverlayClose:o,disableScrolling:i,disableScrollParentFix:l=!1,lifecycle:s,onClickOverlay:a,placement:c,spotlightClicks:u,spotlightPadding:f=0,styles:d,target:h}=e,w=Vn(),{changed:y}=_e(e),v=m.useRef(),p=m.useRef(),g=m.useRef(null),[{isScrolling:O,mouseOverSpotlight:E,showSpotlight:b},S]=Ht({isScrolling:!1,mouseOverSpotlight:!1,resizedAt:0,showSpotlight:!0}),M=m.useCallback(N=>{w&&S(N)},[w,S]),D=m.useMemo(()=>{let N=d.overlay;return Ir()&&(N=c==="center"?d.overlayLegacyCenter:d.overlayLegacy),{cursor:o?"default":"pointer",height:ns(),pointerEvents:E?"none":"auto",...N}},[o,E,c,d.overlay,d.overlayLegacy,d.overlayLegacyCenter]),I=m.useMemo(()=>{var N,Y,_;const G=Pe(h),F=nn(G),ee=We(G),Z=as(G,f,l);return{height:Math.round(((N=F==null?void 0:F.height)!=null?N:0)+f*2),left:Math.round(((Y=F==null?void 0:F.left)!=null?Y:0)-f),opacity:b?1:0,pointerEvents:u?"none":"auto",position:ee?"fixed":"absolute",top:Z,transition:"opacity 0.2s",width:Math.round(((_=F==null?void 0:F.width)!=null?_:0)+f*2),...Ir()?d.spotlightLegacy:d.spotlight}},[l,b,u,f,d.spotlight,d.spotlightLegacy,h]),j=m.useCallback(N=>{const{height:Y,left:_,position:G,top:F,width:ee}=I,Z=G==="fixed"?N.clientY:N.pageY,ne=G==="fixed"?N.clientX:N.pageX,q=Z>=F&&Z<=F+Y,z=ne>=_&&ne<=_+ee&&q;z!==E&&M({mouseOverSpotlight:z})},[I,E,M]),P=m.useCallback(()=>{clearTimeout(v.current),v.current=window.setTimeout(()=>{w&&S({resizedAt:Date.now()})},100)},[w,S]),U=m.useCallback(()=>{const N=Pe(h);g.current!==document?(O||M({isScrolling:!0,showSpotlight:!1}),clearTimeout(p.current),p.current=window.setTimeout(()=>{M({isScrolling:!1,showSpotlight:!0})},50)):We(N,"sticky")&&M({})},[O,h,M]);ot(()=>{const N=Pe(h);g.current=rt(N??document.body,l,!0),window.addEventListener("resize",P)}),Ot(()=>{var N;window.removeEventListener("mousemove",j),window.removeEventListener("resize",P),clearTimeout(v.current),clearTimeout(p.current),(N=g==null?void 0:g.current)==null||N.removeEventListener("scroll",U)}),m.useEffect(()=>{var N;y("lifecycle",k.TOOLTIP)&&((N=g==null?void 0:g.current)==null||N.addEventListener("scroll",U,{passive:!0}),setTimeout(()=>{O||M({showSpotlight:!0})},100))},[y,U,O,M]),m.useEffect(()=>{(y("spotlightClicks")||y("disableOverlay")||y("lifecycle"))&&(u&&s===k.TOOLTIP?window.addEventListener("mousemove",j,!1):s!==k.TOOLTIP&&window.removeEventListener("mousemove",j))},[y,j,s,u]),m.useEffect(()=>{if(y("target")||y("disableScrollParentFix")){const N=Pe(h);g.current=rt(N??document.body,l,!0)}},[y,l,h]);const H=[k.INIT,k.BEACON,k.COMPLETE,k.ERROR];if(n||(t?H.includes(s):s!==k.TOOLTIP))return null;let K=c!=="center"&&b&&x.jsx(Is,{styles:I});const X={...D};if(sn()==="safari"){const{mixBlendMode:N,zIndex:Y,..._}=D;K=x.jsx("div",{style:{..._},children:K}),delete X.backgroundColor}return x.jsx("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:a,role:"presentation",style:X,children:K})}function Ns(e){const{children:t,element:r}=e;return r?Fr.createPortal(t,r):null}var js=class{constructor(e,t){if($(this,"element"),$(this,"options"),$(this,"canBeTabbed",r=>{const{tabIndex:n}=r;return n===null||n<0?!1:this.canHaveFocus(r)}),$(this,"canHaveFocus",r=>{const n=/input|select|textarea|button|object/,o=r.nodeName.toLowerCase();return(n.test(o)&&!r.getAttribute("disabled")||o==="a"&&!!r.getAttribute("href"))&&this.isVisible(r)}),$(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),$(this,"handleKeyDown",r=>{const{code:n="Tab"}=this.options;r.code===n&&this.interceptTab(r)}),$(this,"interceptTab",r=>{r.preventDefault();const n=this.findValidTabElements(),{shiftKey:o}=r;if(!n.length)return;let i=document.activeElement?n.indexOf(document.activeElement):0;i===-1||!o&&i+1===n.length?i=0:o&&i===0?i=n.length-1:i+=o?-1:1,n[i].focus()}),$(this,"isHidden",r=>{const n=r.offsetWidth<=0&&r.offsetHeight<=0,o=window.getComputedStyle(r);return n&&!r.innerHTML?!0:n&&o.getPropertyValue("overflow")!=="visible"||o.getPropertyValue("display")==="none"}),$(this,"isVisible",r=>{let n=r;for(;n;)if(n instanceof HTMLElement){if(n===document.body)break;if(this.isHidden(n))return!1;n=n.parentNode}return!0}),$(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),$(this,"checkFocus",r=>{document.activeElement!==r&&(r.focus(),window.requestAnimationFrame(()=>this.checkFocus(r)))}),$(this,"setFocus",()=>{const{selector:r}=this.options;if(!r)return;const n=this.element.querySelector(r);n&&window.requestAnimationFrame(()=>this.checkFocus(n))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}};function Ms(e){const{beaconComponent:t,continuous:r,index:n,isLastStep:o,locale:i,onClickOrHover:l,shouldFocus:s,size:a,step:c,styles:u}=e,f=m.useRef(null);zt(()=>{if(t)return;const v=document.head||document.getElementsByTagName("head")[0],p=document.createElement("style");p.id="joyride-beacon-animation",e.nonce&&p.setAttribute("nonce",e.nonce),p.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),v.appendChild(p)}),ot(()=>{setTimeout(()=>{C.domElement(f.current)&&s&&f.current.focus()},0)}),Ot(()=>{const v=document.getElementById("joyride-beacon-animation");v!=null&&v.parentNode&&v.parentNode.removeChild(v)});const d=v=>{f.current=v},h=be(i.open),w={"aria-label":h,onClick:l,onMouseEnter:l,ref:d,title:h};let y;if(t){const v=t;y=x.jsx(v,{continuous:r,index:n,isLastStep:o,size:a,step:c,...w})}else y=x.jsxs("button",{className:"react-joyride__beacon","data-test-id":"button-beacon",style:u.beacon,type:"button",...w,children:[x.jsx("span",{style:u.beaconInner}),x.jsx("span",{style:u.beaconOuter})]},"JoyrideBeacon");return y}function ks({styles:e,...t}){const{color:r,height:n,width:o,...i}=e;return x.jsx("button",{style:i,type:"button",...t,children:x.jsx("svg",{height:typeof n=="number"?`${n}px`:n,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof o=="number"?`${o}px`:o,xmlns:"http://www.w3.org/2000/svg",children:x.jsx("g",{children:x.jsx("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r})})})})}function As(e){const{backProps:t,closeProps:r,index:n,isLastStep:o,primaryProps:i,skipProps:l,step:s,tooltipProps:a}=e,{content:c,hideBackButton:u,hideCloseButton:f,hideFooter:d,showSkipButton:h,styles:w,title:y}=s,v={};return v.primary=x.jsx("button",{"data-test-id":"button-primary",style:w.buttonNext,type:"button",...i}),h&&!o&&(v.skip=x.jsx("button",{"aria-live":"off","data-test-id":"button-skip",style:w.buttonSkip,type:"button",...l})),!u&&n>0&&(v.back=x.jsx("button",{"data-test-id":"button-back",style:w.buttonBack,type:"button",...t})),v.close=!f&&x.jsx(ks,{"data-test-id":"button-close",styles:w.buttonClose,...r}),x.jsxs("div",{"aria-label":be(y??c),className:"react-joyride__tooltip",style:w.tooltip,...a,children:[x.jsxs("div",{style:w.tooltipContainer,children:[y&&x.jsx("h1",{"aria-label":be(y),style:w.tooltipTitle,children:y}),x.jsx("div",{style:w.tooltipContent,children:c})]}),!d&&x.jsxs("div",{style:w.tooltipFooter,children:[x.jsx("div",{style:w.tooltipFooterSpacer,children:v.skip}),v.back,v.primary]}),v.close]},"JoyrideTooltip")}function Ls(e){const{continuous:t,helpers:r,index:n,isLastStep:o,setTooltipRef:i,size:l,step:s}=e,a=p=>{p.preventDefault(),r.prev()},c=p=>{p.preventDefault(),r.close("button_close")},u=p=>{if(p.preventDefault(),!t){r.close("button_primary");return}r.next()},f=p=>{p.preventDefault(),r.skip()},d=()=>{const{back:p,close:g,last:O,next:E,nextLabelWithProgress:b,skip:S}=s.locale,M=be(p),D=be(g),I=be(O),j=be(E),P=be(S);let U=g,H=D;if(t){if(U=E,H=j,s.showProgress&&!o){const K=be(b,{step:n+1,steps:l});U=Ut(b,n+1,l),H=K}o&&(U=O,H=I)}return{backProps:{"aria-label":M,children:p,"data-action":"back",onClick:a,role:"button",title:M},closeProps:{"aria-label":D,children:g,"data-action":"close",onClick:c,role:"button",title:D},primaryProps:{"aria-label":H,children:U,"data-action":"primary",onClick:u,role:"button",title:H},skipProps:{"aria-label":P,children:S,"data-action":"skip",onClick:f,role:"button",title:P},tooltipProps:{"aria-modal":!0,ref:i,role:"alertdialog"}}},{beaconComponent:h,tooltipComponent:w,...y}=s;let v;if(w){const p={...d(),continuous:t,index:n,isLastStep:o,size:l,step:y,setTooltipRef:i},g=w;v=x.jsx(g,{...p})}else v=x.jsx(As,{...d(),continuous:t,index:n,isLastStep:o,size:l,step:s});return v}function Ds(e){const{cleanupPoppers:t,continuous:r,debug:n,helpers:o,index:i,lifecycle:l,nonce:s,setPopper:a,shouldScroll:c,size:u,step:f,updateState:d}=e,h=m.useRef(null),w=m.useRef(null),{changed:y,changedFrom:v}=_e(e);ot(()=>{Ae({title:`step:${i}`,data:[{key:"props",value:e}],debug:n})}),Ot(()=>{var b;(b=h.current)==null||b.removeScope()}),m.useEffect(()=>{var b;y("lifecycle",k.TOOLTIP)&&c&&w.current&&(h.current=new js(w.current,{selector:"[data-action=primary]"}),h.current.setFocus()),v("lifecycle",[k.TOOLTIP,k.INIT],k.INIT)&&((b=h.current)==null||b.removeScope(),t())},[y,v,t,c]);const p=b=>{b.type==="mouseenter"&&f.event!=="hover"||d({lifecycle:k.TOOLTIP})},g=b=>{w.current=b},O=Pe(f.target);if(!ln(f)||!C.domElement(O))return null;const E=b=>x.jsx(Ls,{continuous:r,helpers:o,index:i,isLastStep:i+1===u,setTooltipRef:g,size:u,step:f,...b});return x.jsx("div",{className:"react-joyride__step",children:x.jsx(Qi,{...f.floaterProps,component:E,debug:n,getPopper:a,id:`react-joyride-step-${i}`,open:l===k.TOOLTIP,placement:f.placement,portalElement:`#${on}`,target:f.target,children:x.jsx(Ms,{beaconComponent:f.beaconComponent,continuous:r,index:i,isLastStep:i+1===u,locale:f.locale,nonce:s,onClickOrHover:p,shouldFocus:c,size:u,step:f,styles:f.styles})},`JoyrideStep-${i}`)})}function Fs(e){const t=ps(bs,e),{continuous:r,debug:n,disableCloseOnEsc:o,nonce:i,portalElement:l,scrollToFirstStep:s,steps:a}=t,c=Ts(t),u=Ps(l);zt(()=>{Ae({title:"init",data:[{key:"props",value:e},{key:"state",value:c.current.getState()}],debug:n})}),m.useEffect(()=>{const g=O=>{const{index:E,lifecycle:b}=c.current.getState(),S=a[E];b===k.TOOLTIP&&O.code==="Escape"&&!S.disableCloseOnEsc&&c.current.close("keyboard")};return o||document.body.addEventListener("keydown",g,{passive:!0}),()=>{o||document.body.removeEventListener("keydown",g)}},[o,a,c]);const{index:f,lifecycle:d,status:h}=c.current.getState(),w=h===L.RUNNING,y={},v=m.useMemo(()=>Et(e,a[f]),[f,e,a]),p=()=>{v!=null&&v.disableOverlayClose||c.current.close("overlay")};return v?(w&&(y.step=x.jsx(Ds,{...c.current.getState(),cleanupPoppers:c.current.cleanupPoppers,continuous:r,debug:n,helpers:c.current.getHelpers(),nonce:i,setPopper:c.current.setPopper,shouldScroll:!v.disableScrolling&&(f!==0||s),step:v,updateState:c.current.updateState}),y.overlay=x.jsx(Ns,{element:u,children:x.jsx(Rs,{...v,continuous:r,debug:n,lifecycle:d,onClickOverlay:p})})),x.jsxs("div",{className:"react-joyride",children:[y.step,y.overlay]})):null}function Bs(e){return rs()?x.jsx(Fs,{...e}):null}function jr(e,t){try{const r=window.localStorage.getItem(e);return r?JSON.parse(r):t}catch(r){return console.warn(`Error reading localStorage key “${e}”:`,r),t}}const Mr="subscriptionHistory",kr="subscriptionCompletion";function _s(){const[e,t]=m.useState(()=>jr(Mr,{})),[r,n]=m.useState(()=>jr(kr,{}));m.useEffect(()=>{window.localStorage.setItem(Mr,JSON.stringify(e))},[e]),m.useEffect(()=>{window.localStorage.setItem(kr,JSON.stringify(r))},[r]);const o=m.useCallback((s,a)=>{t(c=>({...c,[s]:a}))},[]),i=m.useCallback((s,a)=>{n(c=>{const u=c[s]||[];return u.includes(a)?c:{...c,[s]:[...u,a]}})},[]),l=m.useCallback(s=>!s||!r[s]?new Set:new Set(r[s]),[r]);return{history:e,saveLastVisited:o,markItemAsCompleted:i,getCompletedItemsSet:l}}function $s({isDataLoaded:e,selectedTask:t,setIsChatVisible:r,setPlaylistVisible:n}){const[o,i]=m.useState(!1);m.useEffect(()=>{e&&(localStorage.getItem("hasViewedPlayerTour")||setTimeout(()=>i(!0),500))},[e]);const l=m.useMemo(()=>{const a=[{target:".tour-step-content",content:"هنا يتم عرض محتوى الدرس الحالي، سواء كان فيديو أو ملف.",disableBeacon:!0},{target:".tour-step-actions",content:"من هنا يمكنك تحميل مرفقات الدرس أو تعيينه كمكتمل للانتقال للتالي."},{target:".tour-step-playlist",content:"هذه هي قائمة المهام. يمكنك التنقل بين المستويات والمهام والدروس المختلفة من هنا."}];return t!=null&&t.chatRoomId&&a.splice(2,0,{target:".tour-step-chat",content:"بعض المهام تحتوي على غرفة محادثة خاصة بها. يمكنك المشاركة في النقاش من هنا."}),a.map((c,u)=>u===a.length-1?c:{...c})},[t==null?void 0:t.chatRoomId]),s=m.useCallback(a=>{const{status:c,type:u,step:f}=a;u===ve.STEP_BEFORE&&(f.target===".tour-step-chat"?r(!0):f.target===".tour-step-playlist"&&n(!0)),[L.FINISHED,L.SKIPPED].includes(c)&&(i(!1),localStorage.setItem("hasViewedPlayerTour","true"))},[r,n]);return{joyrideProps:{steps:l,run:o,callback:s,continuous:!0,showProgress:!0,showSkipButton:!0,locale:{back:"السابق",close:"إغلاق",last:"إنهاء",next:"التالي",skip:"تخطي",nextLabelWithProgress:"التالي ({step}/{steps})"},styles:{options:{zIndex:1e4,arrowColor:"#333",backgroundColor:"#333",primaryColor:"#1677ff",textColor:"#fff"}}}}}Be.locale("ar");Be.extend(pn);Be.extend(mn);Be.extend(Ln);const{Content:Us}=Lt,Ar=(e,t,r)=>{if(!t||!r)return null;const n=e.findIndex(s=>s.id===t);if(n===-1)return null;const o=e[n],i=xt(o),l=i.findIndex(s=>s.id===r);if(l>-1&&l<i.length-1)return{nextItemId:i[l+1].id,nextTaskId:o.id};for(let s=n+1;s<e.length;s++){const a=e[s];if(!Bt(a.date)){const c=xt(a);if(c.length>0)return{nextItemId:c[0].id,nextTaskId:a.id}}}return null},Hs=e=>{Ft.info(`Navigating to: ${e}`),window.location.href=`#${e}`},zs=({selectedTask:e,selectedItem:t,onMarkComplete:r,isLoadingComplete:n,isCurrentTaskLocked:o,hasMoreContent:i})=>{const l={display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",padding:"16px 0",borderTop:"1px solid #f0f0f0",marginTop:"auto"};return x.jsxs("div",{style:l,children:[(t==null?void 0:t.itemType)==="lesson"&&x.jsx(Dt,{wrap:!0,children:x.jsx(bt,{icon:x.jsx(bn,{}),href:t==null?void 0:t.url,target:"_blank",download:!0,disabled:!(t!=null&&t.url)||o,children:"تحميل المرفق"})}),x.jsx(dn,{title:o?"لا يمكنك إكمال مهمة مقفلة":"",children:x.jsx(bt,{type:"primary",icon:x.jsx(Br,{}),onClick:r,loading:n,disabled:n||!e||o,children:n?"جاري...":i?"إكمال والمتابعة":"إنهاء المهمة الأخيرة"})})]})},ma=()=>{const[e,t]=m.useState(null),[r,n]=m.useState(!1),[o,i]=m.useState(!1),[l,s]=m.useState(null),[a,c]=m.useState(null),[u,f]=m.useState(!1),[d,h]=m.useState(void 0),{id:w}=un(),{data:y,isLoading:v,error:p}=yn({queryKey:[w],queryFn:()=>gn.get({id:w}),refetchOnWindowFocus:!1}),{history:g,saveLastVisited:O,markItemAsCompleted:E,getCompletedItemsSet:b}=_s(),S=y==null?void 0:y.items[0],M=m.useMemo(()=>b((S==null?void 0:S.id)??null),[b,S==null?void 0:S.id]);m.useEffect(()=>{var R,z;if(S&&!e){const B=g[S.id];if(B)t(B.levelId),s(B.taskId),c(B.itemId),h(B.taskId);else{const W=hn(S);W?t(W.id):(z=(R=S.program)==null?void 0:R.levels)!=null&&z[0]&&t(S.program.levels[0].id)}}},[S,g,e]),m.useEffect(()=>{S!=null&&S.id&&e&&l&&a&&O(S.id,{levelId:e,taskId:l,itemId:a})},[e,l,a,S==null?void 0:S.id,O]);const D=m.useMemo(()=>{if(!(!S||!e))return S.program.levels.find(R=>R.id===e)},[S,e]),I=m.useMemo(()=>D!=null&&D.tasks?[...D.tasks].sort((R,z)=>Be(R.date).valueOf()-Be(z.date).valueOf()):[],[D]);m.useEffect(()=>{if(I.length>0&&!l){const z=I.find(B=>!Bt(B.date))||I[0];if(z){const B=xt(z)[0];s(z.id),h(z.id),c((B==null?void 0:B.id)||null)}}},[I,l]);const j=m.useMemo(()=>I.find(R=>(R==null?void 0:R.id)===l),[l,I]),P=m.useMemo(()=>{if(!(!j||!a))return xt(j).find(R=>R.id===a)},[j,a]),U=m.useMemo(()=>j?Bt(j.date):!0,[j]),H=m.useMemo(()=>Ar(I,l,a)!==null,[I,l,a]),{joyrideProps:K}=$s({isDataLoaded:!!S,selectedTask:j,setIsChatVisible:i,setPlaylistVisible:n}),X=()=>n(!r),N=()=>i(!o),Y=R=>{t(R),s(null),c(null)},_=(R,z,B)=>{if(B){Ft.warning("هذه المهمة مقفلة حالياً.");return}s(R),c(z),d!==R&&h(R)},G=R=>{const z=typeof R=="string"?R:Array.isArray(R)?R[0]:void 0;h(z)},F=()=>{Tn.success({title:"تهانينا!",content:"لقد أكملت جميع المهام المتاحة حالياً في هذا المستوى.",okText:"العودة للرئيسية",onOk:()=>Hs("/"),direction:"rtl",icon:x.jsx(Br,{})})},ee=()=>{if(!(S!=null&&S.id)||!l||!a||u||U)return;const R=a,z=new Promise(async(B,W)=>{f(!0),await new Promise(Q=>setTimeout(Q,1e3));try{console.log(`API: Mark item ${a} of task ${l} complete`),B((P==null?void 0:P.title)||"الدرس")}catch(Q){W(Q)}});Ft.promise(z,{loading:"جاري إكمال المهمة...",success:B=>{E(S.id,R),f(!1);const W=Ar(I,l,R);return W?(s(W.nextTaskId),c(W.nextItemId),W.nextTaskId!==l&&h(W.nextTaskId),`أكملت "${B}". التالي.`):(F(),"أكملت آخر مهمة متاحة!")},error:B=>(f(!1),console.error("Completion error:",B),"فشل إكمال الدرس.")})},Z={minHeight:"100vh",flexDirection:"row"},ne={padding:"24px",minHeight:"calc(100vh - 64px)",backgroundColor:"#fff",display:"flex",flexDirection:"column",position:"relative"},q={display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",marginBottom:"16px"};return x.jsxs(Lt,{style:Z,children:[x.jsx(Bs,{...K}),(j==null?void 0:j.chatRoomId)&&x.jsx("div",{className:"tour-step-chat",children:x.jsx(Sn,{chatRoomId:j.chatRoomId,onClose:N,visible:o})}),x.jsx(Lt,{children:x.jsxs(Us,{style:ne,children:[v&&x.jsx("div",{style:{textAlign:"center",padding:"50px"},children:x.jsx(fn,{size:"large",tip:"جاري تحميل..."})}),p&&!v&&x.jsx(En,{message:"خطأ في تحميل البيانات",description:p.message,type:"error",showIcon:!0,style:{marginBottom:"24px"}}),!v&&!p&&S&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:q,children:[x.jsx(Dt,{children:(j==null?void 0:j.chatRoomId)&&!o&&x.jsx(bt,{icon:x.jsx(jn,{}),onClick:N,"aria-label":"عرض المحادثة",children:"المحادثة"})}),x.jsx(wn,{subscription:S,level:D,selectedTask:j,selectedItem:P}),x.jsx(Dt,{children:!r&&x.jsx(bt,{icon:x.jsx(On,{}),onClick:X,"aria-label":"عرض قائمة المهام",children:"القائمة"})})]}),x.jsx("div",{className:"tour-step-content",children:x.jsx(vn,{item:P})}),x.jsx("div",{className:"tour-step-actions",children:x.jsx(zs,{selectedTask:j,selectedItem:P,onMarkComplete:ee,isLoadingComplete:u,isCurrentTaskLocked:U,hasMoreContent:H})})]}),!v&&!p&&!S&&x.jsx(Cn,{description:"لم يتم العثور على بيانات الاشتراك."})]})}),!v&&!p&&S&&x.jsx("div",{className:"tour-step-playlist",children:x.jsx(xn,{allLevels:S.program.levels||[],selectedLevelId:e,onLevelChange:Y,levelTasks:I,selectedTaskId:l,selectedItemId:a,completedItems:M,visible:r,activeCollapseKey:d,onItemClick:_,onCollapseChange:G,onClose:X})})]})};export{ma as default};
