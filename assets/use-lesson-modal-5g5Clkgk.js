import{s as n,_ as c,w as f,aP as g,b as h,r as w,x as u}from"./index-ChNaTDJB.js";const b=s=>n.get({url:"/lessons",params:f(s),headers:{"ngrok-skip-browser-warning":"true"}}),k=s=>n.get({url:c("/lessons/:id",{id:s})}),P=s=>n.post({url:"/lessons",data:s}),_=(s,a)=>n.put({url:c("/lessons/:id",{id:s}),data:a}),S=(s,a)=>n.delete({url:c("/lessons/:subjectId/:id",{id:a,subjectId:s})}),d={get:b,show:k,create:P,update:_,destroy:S},l={title:"",type:"",url:""};function E(s){const[a]=g();l.subjectId=a.get("programId")??void 0;const i=h({mutationFn:e=>(console.log("mutationFn",e),e.id!==void 0?d.update(e.id,e.data):d.create(e.data)),onSuccess:()=>{console.log("onSuccess"),t(e=>({...e,show:!1,okDisabled:!1})),s()},onError(e,o,r){console.log("onError",e,o,r),t(p=>({...p,okDisabled:!1}))}}),[m,t]=w.useState({formValue:{...l},title:u("common.create"),show:!1,okDisabled:!1,onOk:(e,o)=>{console.log("onOk",e,o),i.mutate({id:e,data:o}),t(r=>({...r,okDisabled:!0}))},onCancel:()=>{t(e=>({...e,show:!1}))}});return{modalProps:m,setModalProps:t,onCreate:e=>{t(o=>({...o,show:!0,...l,title:u("common.create"),formValue:{...l,parentId:(e==null?void 0:e.id)??""}}))},onEdit:e=>{t(o=>({...o,show:!0,title:u("common.edit"),formValue:e}))},mutation:i}}const D=Object.freeze(Object.defineProperty({__proto__:null,useLessonModal:E},Symbol.toStringTag,{value:"Module"}));export{d as a,D as b,E as u};
