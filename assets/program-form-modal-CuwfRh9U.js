import{aT as a,r as c,j as e,x as s,aW as u}from"./index-ChNaTDJB.js";import{d as x}from"./dayjs.min-CThvwJT1.js";import{M as I}from"./index-DzxYmmsA.js";import{S as F}from"./index-D4CopvM-.js";import{D as d}from"./index-CM4LjpRC.js";import"./useIcons-Ba7_GIgP.js";import"./index-_CcmTA8R.js";import"./CalendarOutlined-Bc1pK1nL.js";import"./ClockCircleOutlined-DZ4ZlOZe.js";function w({title:j,show:h,forUpload:i,formValue:r,okDisabled:b,onOk:m,onCancel:f}){const[p]=a.useForm(),o=c.useRef(null);c.useEffect(()=>{i||p.setFieldsValue({...r})},[i,r,p]);const n={getValueProps:t=>({value:t&&x(t)}),normalize:t=>t&&`${x(t).toISOString()}`},g=[{value:"created",label:e.jsx("span",{children:s("app.programs.statuses.created")})},{value:"published",label:e.jsx("span",{children:s("app.programs.statuses.published")})},{value:"suspended",label:e.jsx("span",{children:s("app.programs.statuses.suspended")})},{value:"cancelled",label:e.jsx("span",{children:s("app.programs.statuses.cancelled")})},{value:"deleted",label:e.jsx("span",{children:s("app.programs.statuses.deleted")})}];return e.jsx(I,{forceRender:!0,title:j,open:h,okButtonProps:{autoFocus:!0,htmlType:"submit",disabled:b},okText:r.id===void 0?s("common.create"):s("common.edit"),onOk:i?()=>{var t,l;if(((t=o.current)==null?void 0:t.files)!==null){const v={thumbnail:((l=o.current)==null?void 0:l.files[0])??void 0};m(r.id,v)}}:void 0,cancelText:s("common.cancel"),onCancel:f,modalRender:t=>e.jsx(a,{form:p,encType:i?"multipart/form-data":void 0,initialValues:r,onFinish:i?void 0:l=>{m(r.id,l)},labelCol:{span:6},wrapperCol:{span:18},layout:"horizontal",children:t}),children:i?e.jsx("input",{type:"file",name:"thumbnail",ref:o}):e.jsxs(e.Fragment,{children:[e.jsx(a.Item,{label:s("app.fields.name"),name:"name",rules:[{required:!0}],children:e.jsx(u,{})}),r.id&&e.jsx(a.Item,{label:s("app.fields.state"),name:"state",children:e.jsx(F,{showSearch:!0,options:g})}),e.jsx(a.Item,{label:s("app.fields.description"),name:"description",required:!0,rules:[{required:!0}],children:e.jsx(u.TextArea,{})}),e.jsx(a.Item,{label:s("app.fields.start"),name:"start",...n,children:e.jsx(d,{})}),e.jsx(a.Item,{label:s("app.fields.end"),name:"end",...n,children:e.jsx(d,{})}),e.jsx(a.Item,{label:s("app.fields.registration start"),name:"registrationStart",...n,children:e.jsx(d,{})}),e.jsx(a.Item,{label:s("app.fields.registration end"),name:"registrationEnd",...n,children:e.jsx(d,{})})]})})}export{w as default};
