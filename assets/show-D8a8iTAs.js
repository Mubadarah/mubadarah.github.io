import{r as b,u as We,a as _e,b as fe,j as q,S as Ye,c as Qe,d as xe}from"./index-D6AxIjPL.js";import{u as Ge}from"./useQuery-DvBjJu9T.js";import{A as Xe,a as de}from"./AssignmentDetails-CFcxBxRB.js";import{C as ye}from"./index-mhv3C2lE.js";const Ze={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class re{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||Ze,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,n,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new re(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new re(this.logger,e)}}var I=new re;class le{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(s)||0;this.observers[n].set(s,r+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[i,o]=a;for(let l=0;l<o;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[i,o]=a;for(let l=0;l<o;l++)i.apply(i,[e,...n])})}}function W(){let t,e;const s=new Promise((n,r)=>{t=n,e=r});return s.resolve=t,s.reject=e,s}function be(t){return t==null?"":""+t}function et(t,e,s){t.forEach(n=>{e[n]&&(s[n]=e[n])})}const tt=/###/g;function G(t,e,s){function n(o){return o&&o.indexOf("###")>-1?o.replace(tt,"."):o}function r(){return!t||typeof t=="string"}const a=typeof e!="string"?e:e.split(".");let i=0;for(;i<a.length-1;){if(r())return{};const o=n(a[i]);!t[o]&&s&&(t[o]=new s),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return r()?{}:{obj:t,k:n(a[i])}}function ve(t,e,s){const{obj:n,k:r}=G(t,e,Object);if(n!==void 0||e.length===1){n[r]=s;return}let a=e[e.length-1],i=e.slice(0,e.length-1),o=G(t,i,Object);for(;o.obj===void 0&&i.length;)a=`${i[i.length-1]}.${a}`,i=i.slice(0,i.length-1),o=G(t,i,Object),o&&o.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=s}function st(t,e,s,n){const{obj:r,k:a}=G(t,e,Object);r[a]=r[a]||[],r[a].push(s)}function ae(t,e){const{obj:s,k:n}=G(t,e);if(s)return s[n]}function nt(t,e,s){const n=ae(t,s);return n!==void 0?n:ae(e,s)}function Ue(t,e,s){for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?s&&(t[n]=e[n]):Ue(t[n],e[n],s):t[n]=e[n]);return t}function B(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var rt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function at(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>rt[e]):t}class it{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const ot=[" ",",","?","!",";"],lt=new it(20);function ut(t,e,s){e=e||"",s=s||"";const n=ot.filter(i=>e.indexOf(i)<0&&s.indexOf(i)<0);if(n.length===0)return!0;const r=lt.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let a=!r.test(t);if(!a){const i=t.indexOf(s);i>0&&!r.test(t.substring(0,i))&&(a=!0)}return a}function he(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(s);let r=t;for(let a=0;a<n.length;){if(!r||typeof r!="object")return;let i,o="";for(let l=a;l<n.length;++l)if(l!==a&&(o+=s),o+=n[l],i=r[o],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&l<n.length-1)continue;a+=l-a+1;break}r=i}return r}function ie(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class ke extends le{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,i=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,s],n&&(Array.isArray(n)?o.push(...n):typeof n=="string"&&a?o.push(...n.split(a)):o.push(n)));const l=ae(this.data,o);return!l&&!s&&!n&&e.indexOf(".")>-1&&(e=o[0],s=o[1],n=o.slice(2).join(".")),l||!i||typeof n!="string"?l:he(this.data&&this.data[e]&&this.data[e][s],n,a)}addResource(e,s,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,s];n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split("."),r=s,s=o[1]),this.addNamespaces(s),ve(this.data,o,r),a.silent||this.emit("added",e,s,n,r)}addResources(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(typeof n[a]=="string"||Array.isArray(n[a]))&&this.addResource(e,s,a,n[a],{silent:!0});r.silent||this.emit("added",e,s,n)}addResourceBundle(e,s,n,r,a){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,s];e.indexOf(".")>-1&&(o=e.split("."),r=n,n=s,s=o[1]),this.addNamespaces(s);let l=ae(this.data,o)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?Ue(l,n,a):l={...l,...n},ve(this.data,o,l),i.silent||this.emit("added",e,s,n)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(n=>s[n]&&Object.keys(s[n]).length>0)}toJSON(){return this.data}}var Ve={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,r){return t.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,s,n,r))}),e}};const we={};class oe extends le{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),et(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=I.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,s);return n&&n.res!==void 0}extractFromKey(e,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=s.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!ut(e,n,r);if(i&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:a};const c=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(r)}return typeof a=="string"&&(a=[a]),{key:e,namespaces:a}}translate(e,s,n){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:i,namespaces:o}=this.extractFromKey(e[e.length-1],s),l=o[o.length-1],c=s.lng||this.language,d=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const N=s.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${N}${i}`,usedKey:i,exactUsedKey:i,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:`${l}${N}${i}`}return r?{res:i,usedKey:i,exactUsedKey:i,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:i}const h=this.resolve(e,s);let g=h&&h.res;const p=h&&h.usedKey||i,m=h&&h.exactUsedKey||i,k=Object.prototype.toString.apply(g),S=["[object Number]","[object Function]","[object RegExp]"],j=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&g&&typeof g!="string"&&typeof g!="boolean"&&typeof g!="number"&&S.indexOf(k)<0&&!(typeof j=="string"&&Array.isArray(g))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,g,{...s,ns:o}):`key '${i} (${this.language})' returned an object instead of string.`;return r?(h.res=N,h.usedParams=this.getUsedParamsDetails(s),h):N}if(a){const N=Array.isArray(g),x=N?[]:{},$=N?m:p;for(const w in g)if(Object.prototype.hasOwnProperty.call(g,w)){const L=`${$}${a}${w}`;x[w]=this.translate(L,{...s,joinArrays:!1,ns:o}),x[w]===L&&(x[w]=g[w])}g=x}}else if(y&&typeof j=="string"&&Array.isArray(g))g=g.join(j),g&&(g=this.extendTranslation(g,e,s,n));else{let N=!1,x=!1;const $=s.count!==void 0&&typeof s.count!="string",w=oe.hasDefaultValue(s),L=$?this.pluralResolver.getSuffix(c,s.count,s):"",A=s.ordinal&&$?this.pluralResolver.getSuffix(c,s.count,{ordinal:!1}):"",Z=$&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),T=Z&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${L}`]||s[`defaultValue${A}`]||s.defaultValue;!this.isValidLookup(g)&&w&&(N=!0,g=T),this.isValidLookup(g)||(x=!0,g=i);const ue=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:g,M=w&&T!==g&&this.options.updateMissing;if(x||N||M){if(this.logger.log(M?"updateKey":"missingKey",c,l,i,M?T:g),a){const E=this.resolve(i,{...s,keySeparator:!1});E&&E.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let E=0;E<K.length;E++)U.push(K[E]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(s.lng||this.language):U.push(s.lng||this.language);const V=(E,P,D)=>{const ee=w&&D!==g?D:ue;this.options.missingKeyHandler?this.options.missingKeyHandler(E,l,P,ee,M,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(E,l,P,ee,M,s),this.emit("missingKey",E,l,P,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?U.forEach(E=>{const P=this.pluralResolver.getSuffixes(E,s);Z&&s[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(D=>{V([E],i+D,s[`defaultValue${D}`]||T)})}):V(U,i,T))}g=this.extendTranslation(g,e,s,h,n),x&&g===i&&this.options.appendNamespaceToMissingKey&&(g=`${l}:${i}`),(x||N)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${i}`:i,N?g:void 0):g=this.options.parseMissingKeyHandler(g))}return r?(h.res=g,h.usedParams=this.getUsedParamsDetails(s),h):g}extendTranslation(e,s,n,r,a){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const g=e.match(this.interpolator.nestingRegexp);d=g&&g.length}let h=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,n.lng||this.language,n),c){const g=e.match(this.interpolator.nestingRegexp),p=g&&g.length;d<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(n.lng=r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,p=new Array(g),m=0;m<g;m++)p[m]=arguments[m];return a&&a[0]===p[0]&&!n.context?(i.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${s[0]}`),null):i.translate(...p,s)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=typeof o=="string"?[o]:o;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=Ve.handle(l,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,a,i,o;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,s),d=c.key;r=d;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const g=s.count!==void 0&&typeof s.count!="string",p=g&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),m=s.context!==void 0&&(typeof s.context=="string"||typeof s.context=="number")&&s.context!=="",k=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);h.forEach(S=>{this.isValidLookup(n)||(o=S,!we[`${k[0]}-${S}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(we[`${k[0]}-${S}`]=!0,this.logger.warn(`key "${r}" for languages "${k.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(j=>{if(this.isValidLookup(n))return;i=j;const y=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,d,j,S,s);else{let x;g&&(x=this.pluralResolver.getSuffix(j,s.count,s));const $=`${this.options.pluralSeparator}zero`,w=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(y.push(d+x),s.ordinal&&x.indexOf(w)===0&&y.push(d+x.replace(w,this.options.pluralSeparator)),p&&y.push(d+$)),m){const L=`${d}${this.options.contextSeparator}${s.context}`;y.push(L),g&&(y.push(L+x),s.ordinal&&x.indexOf(w)===0&&y.push(L+x.replace(w,this.options.pluralSeparator)),p&&y.push(L+$))}}let N;for(;N=y.pop();)this.isValidLookup(n)||(a=N,n=this.getResource(j,S,N,s))}))})}),{res:n,usedKey:r,exactUsedKey:a,usedLng:i,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,n,r):this.resourceStore.getResource(e,s,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&typeof e.replace!="string";let r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const a of s)delete r[a]}return r}static hasDefaultValue(e){const s="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s===n.substring(0,s.length)&&e[n]!==void 0)return!0;return!1}}function ge(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Se{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=I.create("languageUtils")}getScriptPartFromCode(e){if(e=ie(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=ie(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const s=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(r=>r.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=ge(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=ge(n[1].toLowerCase())),s.indexOf(n[2].toLowerCase())>-1&&(n[2]=ge(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(n=>{if(s)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(s=r)}),!s&&this.options.supportedLngs&&e.forEach(n=>{if(s)return;const r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return s=r;s=this.options.supportedLngs.find(a=>{if(a===r||!(a.indexOf("-")<0&&r.indexOf("-")<0)&&(a.indexOf("-")>0&&r.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===r||a.indexOf(r)===0&&r.length>1))return a})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let n=e[s];return n||(n=e[this.getScriptPartFromCode(s)]),n||(n=e[this.formatLanguageCode(s)]),n||(n=e[this.getLanguagePartFromCode(s)]),n||(n=e.default),n||[]}toResolveHierarchy(e,s){const n=this.getFallbackCodes(s||this.options.fallbackLng||[],e),r=[],a=i=>{i&&(this.isSupportedCode(i)?r.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):typeof e=="string"&&a(this.formatLanguageCode(e)),n.forEach(i=>{r.indexOf(i)<0&&a(this.formatLanguageCode(i))}),r}}let ct=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],dt={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const gt=["v1","v2","v3"],ht=["v4"],Ne={zero:0,one:1,two:2,few:3,many:4,other:5};function pt(){const t={};return ct.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:dt[e.fc]}})}),t}class mt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=I.create("pluralResolver"),(!this.options.compatibilityJSON||ht.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=pt()}addRule(e,s){this.rules[e]=s}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(ie(e==="dev"?"en":e),{type:s.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${s}${r}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((r,a)=>Ne[r]-Ne[a]).map(r=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r}`):n.numbers.map(r=>this.getSuffix(e,r,s)):[]}getSuffix(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(s)}`:this.getSuffixRetroCompatible(r,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const n=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let r=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const a=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!gt.includes(this.options.compatibilityJSON)}}function je(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=nt(t,e,s);return!a&&r&&typeof s=="string"&&(a=he(t,s,n),a===void 0&&(a=he(e,s,n))),a}class ft{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=I.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:r,prefix:a,prefixEscaped:i,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:g,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:k,nestingOptionsSeparator:S,maxReplaces:j,alwaysFormat:y}=e.interpolation;this.escape=s!==void 0?s:at,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=a?B(a):i||"{{",this.suffix=o?B(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=g?B(g):p||B("$t("),this.nestingSuffix=m?B(m):k||B(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=j||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,n)=>s&&s.source===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,n,r){let a,i,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(p){return p.replace(/\$/g,"$$$$")}const d=p=>{if(p.indexOf(this.formatSeparator)<0){const j=je(s,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,n,{...r,...s,interpolationkey:p}):j}const m=p.split(this.formatSeparator),k=m.shift().trim(),S=m.join(this.formatSeparator).trim();return this.format(je(s,l,k,this.options.keySeparator,this.options.ignoreJSONStructure),S,n,{...r,...s,interpolationkey:k})};this.resetRegExp();const h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,g=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>c(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?c(this.escape(p)):c(p)}].forEach(p=>{for(o=0;a=p.regex.exec(e);){const m=a[1].trim();if(i=d(m),i===void 0)if(typeof h=="function"){const S=h(e,a,r);i=typeof S=="string"?S:""}else if(r&&Object.prototype.hasOwnProperty.call(r,m))i="";else if(g){i=a[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),i="";else typeof i!="string"&&!this.useRawValueToEscape&&(i=be(i));const k=p.safeValue(i);if(e=e.replace(a[0],k),g?(p.regex.lastIndex+=i.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a,i;function o(l,c){const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let g=`{${h[1]}`;l=h[0],g=this.interpolate(g,i);const p=g.match(/'/g),m=g.match(/"/g);(p&&p.length%2===0&&!m||m.length%2!==0)&&(g=g.replace(/'/g,'"'));try{i=JSON.parse(g),c&&(i={...c,...i})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,k),`${l}${d}${g}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,l}for(;r=this.nestingRegexp.exec(e);){let l=[];i={...n},i=i.replace&&typeof i.replace!="string"?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let c=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const d=r[1].split(this.formatSeparator).map(h=>h.trim());r[1]=d.shift(),l=d,c=!0}if(a=s(o.call(this,r[1].trim(),i),i),a&&r[0]===e&&typeof a!="string")return a;typeof a!="string"&&(a=be(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),a=""),c&&(a=l.reduce((d,h)=>this.format(d,h,n.lng,{...n,interpolationkey:r[1].trim()}),a.trim())),e=e.replace(r[0],a),this.regexp.lastIndex=0}return e}}function xt(t){let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?s.currency||(s.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?s.range||(s.range=r.trim()):r.split(";").forEach(a=>{if(a){const[i,...o]=a.split(":"),l=o.join(":").trim().replace(/^'+|'+$/g,""),c=i.trim();s[c]||(s[c]=l),l==="false"&&(s[c]=!1),l==="true"&&(s[c]=!0),isNaN(l)||(s[c]=parseInt(l,10))}})}return{formatName:e,formatOptions:s}}function J(t){const e={};return function(s,n,r){const a=n+JSON.stringify(r);let i=e[a];return i||(i=t(ie(n),r),e[a]=i),i(s)}}class yt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=I.create("formatter"),this.options=e,this.formats={number:J((s,n)=>{const r=new Intl.NumberFormat(s,{...n});return a=>r.format(a)}),currency:J((s,n)=>{const r=new Intl.NumberFormat(s,{...n,style:"currency"});return a=>r.format(a)}),datetime:J((s,n)=>{const r=new Intl.DateTimeFormat(s,{...n});return a=>r.format(a)}),relativetime:J((s,n)=>{const r=new Intl.RelativeTimeFormat(s,{...n});return a=>r.format(a,n.range||"day")}),list:J((s,n)=>{const r=new Intl.ListFormat(s,{...n});return a=>r.format(a)})},this.init(e)}init(e){const s=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=J(s)}format(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return s.split(this.formatSeparator).reduce((a,i)=>{const{formatName:o,formatOptions:l}=xt(i);if(this.formats[o]){let c=a;try{const d=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},h=d.locale||d.lng||r.locale||r.lng||n;c=this.formats[o](a,h,{...l,...r,...d})}catch(d){this.logger.warn(d)}return c}else this.logger.warn(`there was no format function for ${o}`);return a},e)}}function bt(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class vt extends le{constructor(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=I.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,s,n,r){const a={},i={},o={},l={};return e.forEach(c=>{let d=!0;s.forEach(h=>{const g=`${c}|${h}`;!n.reload&&this.store.hasResourceBundle(c,h)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?i[g]===void 0&&(i[g]=!0):(this.state[g]=1,d=!1,i[g]===void 0&&(i[g]=!0),a[g]===void 0&&(a[g]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(o[c]=!0)}),(Object.keys(a).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(i),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,s,n){const r=e.split("|"),a=r[0],i=r[1];s&&this.emit("failedLoading",a,i,s),n&&this.store.addResourceBundle(a,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2;const o={};this.queue.forEach(l=>{st(l.loaded,[a],i),bt(l,e),s&&l.errors.push(s),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const d=l.loaded[c];d.length&&d.forEach(h=>{o[c][h]===void 0&&(o[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,s,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:n,tried:r,wait:a,callback:i});return}this.readingCalls++;const o=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&d&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,n,r+1,a*2,i)},a);return}i(c,d)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const c=l(e,s);c&&typeof c.then=="function"?c.then(d=>o(null,d)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,s,o)}prepareLoading(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof s=="string"&&(s=[s]);const a=this.queueLoad(e,s,n,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(i=>{this.loadOne(i)})}load(e,s,n){this.prepareLoading(e,s,{},n)}reload(e,s,n){this.prepareLoading(e,s,{reload:!0},n)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),r=n[0],a=n[1];this.read(r,a,"read",void 0,void 0,(i,o)=>{i&&this.logger.warn(`${s}loading namespace ${a} for language ${r} failed`,i),!i&&o&&this.logger.log(`${s}loaded namespace ${a} for language ${r}`,o),this.loaded(e,i,o)})}saveMissing(e,s,n,r,a){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...i,isUpdate:a},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(e,s,n,r,l):d=c(e,s,n,r),d&&typeof d.then=="function"?d.then(h=>o(null,h)).catch(o):o(null,d)}catch(d){o(d)}else c(e,s,n,r,o,l)}!e||!e[0]||this.store.addResource(e[0],s,n,r)}}}function Le(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let e={};if(typeof t[1]=="object"&&(e=t[1]),typeof t[1]=="string"&&(e.defaultValue=t[1]),typeof t[2]=="string"&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(n=>{e[n]=s[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function $e(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function se(){}function kt(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(e=>{typeof t[e]=="function"&&(t[e]=t[e].bind(t))})}class X extends le{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=$e(e),this.services={},this.logger=I,this.modules={external:[]},kt(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(n=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const r=Le();this.options={...r,...this.options,...$e(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function a(l){return l?typeof l=="function"?new l:l:null}if(!this.options.isClone){this.modules.logger?I.init(a(this.modules.logger),this.options):I.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=yt);const c=new Se(this.options);this.store=new ke(this.options.resources,this.options);const d=this.services;d.logger=I,d.resourceStore=this.store,d.languageUtils=c,d.pluralResolver=new mt(c,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=a(l),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new ft(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new vt(a(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(h){for(var g=arguments.length,p=new Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];e.emit(h,...p)}),this.modules.languageDetector&&(d.languageDetector=a(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=a(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new oe(this.services,this.options),this.translator.on("*",function(h){for(var g=arguments.length,p=new Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];e.emit(h,...p)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=se),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return e.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return e.store[l](...arguments),e}});const i=W(),o=()=>{const l=(c,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(d),n(c,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?o():setTimeout(o,0),i}loadResources(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se;const n=typeof e=="string"?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&n.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const r=[],a=i=>{!i||i==="cimode"||this.services.languageUtils.toResolveHierarchy(i).forEach(o=>{o!=="cimode"&&r.indexOf(o)<0&&r.push(o)})};n?a(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(i=>a(i)),this.options.preload&&this.options.preload.forEach(i=>a(i)),this.services.backendConnector.load(r,this.options.ns,i=>{!i&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(i)})}else s(null)}reloadResources(e,s,n){const r=W();return e||(e=this.languages),s||(s=this.options.ns),n||(n=se),this.services.backendConnector.reload(e,s,a=>{r.resolve(),n(a)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ve.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,s){var n=this;this.isLanguageChangingTo=e;const r=W();this.emit("languageChanging",e);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),s&&s(l,function(){return n.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||a(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{i(d,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,s,n){var r=this;const a=function(i,o){let l;if(typeof o!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),h=2;h<c;h++)d[h-2]=arguments[h];l=r.options.overloadTranslationOptionHandler([i,o].concat(d))}else l={...o};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix=l.keyPrefix||n||a.keyPrefix;const g=r.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(i)?p=i.map(m=>`${l.keyPrefix}${g}${m}`):p=l.keyPrefix?`${l.keyPrefix}${g}${i}`:i,r.t(p,l)};return typeof e=="string"?a.lng=e:a.lngs=e,a.ns=s,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===2};if(s.precheck){const o=s.precheck(this,i);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,e)&&(!r||i(a,e)))}loadNamespaces(e,s){const n=W();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),s&&s(r)}),n):(s&&s(),Promise.resolve())}loadLanguages(e,s){const n=W();typeof e=="string"&&(e=[e]);const r=this.options.preload||[],a=e.filter(i=>r.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return a.length?(this.options.preload=r.concat(a),this.loadResources(i=>{n.resolve(),s&&s(i)}),n):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Se(Le());return s.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new X(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:se;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new X(r);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(i=>{a[i]=this[i]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new ke(this.store.data,r),a.services.resourceStore=a.store),a.translator=new oe(a.services,r),a.translator.on("*",function(i){for(var o=arguments.length,l=new Array(o>1?o-1:0),c=1;c<o;c++)l[c-1]=arguments[c];a.emit(i,...l)}),a.init(r,s),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const R=X.createInstance();R.createInstance=X.createInstance;R.createInstance;R.dir;R.init;R.loadResources;R.reloadResources;R.use;R.changeLanguage;R.getFixedT;R.t;R.exists;R.setDefaultNamespace;R.hasLoadedNamespace;R.loadNamespaces;R.loadLanguages;function wt(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Ce={};function pe(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];typeof e[0]=="string"&&Ce[e[0]]||(typeof e[0]=="string"&&(Ce[e[0]]=new Date),wt(...e))}const qe=(t,e)=>()=>{if(t.isInitialized)e();else{const s=()=>{setTimeout(()=>{t.off("initialized",s)},0),e()};t.on("initialized",s)}};function Oe(t,e,s){t.loadNamespaces(e,qe(t,s))}function Ae(t,e,s,n){typeof s=="string"&&(s=[s]),s.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(e,qe(t,n))}function St(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],r=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(o,l)=>{const c=e.services.backendConnector.state[`${o}|${l}`];return c===-1||c===2};return s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!i(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||i(n,t)&&(!r||i(a,t)))}function Nt(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(pe("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:s.lng,precheck:(n,r)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,t))return!1}}):St(t,e,s)}const jt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Lt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},$t=t=>Lt[t],Ct=t=>t.replace(jt,$t);let me={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ct};function Ot(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};me={...me,...t}}function At(){return me}let ze;function Rt(t){ze=t}function Et(){return ze}const Pt={type:"3rdParty",init(t){Ot(t.options.react),Rt(t)}},It=b.createContext();class Ft{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Dt=(t,e)=>{const s=b.useRef();return b.useEffect(()=>{s.current=t},[t,e]),s.current};function Ke(t,e,s,n){return t.getFixedT(e,s,n)}function Tt(t,e,s,n){return b.useCallback(Ke(t,e,s,n),[t,e,s,n])}function z(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:s}=e,{i18n:n,defaultNS:r}=b.useContext(It)||{},a=s||n||Et();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Ft),!a){pe("You will need to pass in an i18next instance by using initReactI18next");const x=(w,L)=>typeof L=="string"?L:L&&typeof L=="object"&&typeof L.defaultValue=="string"?L.defaultValue:Array.isArray(w)?w[w.length-1]:w,$=[x,{},!1];return $.t=x,$.i18n={},$.ready=!1,$}a.options.react&&a.options.react.wait!==void 0&&pe("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...At(),...a.options.react,...e},{useSuspense:o,keyPrefix:l}=i;let c=r||a.options&&a.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(c);const d=(a.isInitialized||a.initializedStoreOnce)&&c.every(x=>Nt(x,a,i)),h=Tt(a,e.lng||null,i.nsMode==="fallback"?c:c[0],l),g=()=>h,p=()=>Ke(a,e.lng||null,i.nsMode==="fallback"?c:c[0],l),[m,k]=b.useState(g);let S=c.join();e.lng&&(S=`${e.lng}${S}`);const j=Dt(S),y=b.useRef(!0);b.useEffect(()=>{const{bindI18n:x,bindI18nStore:$}=i;y.current=!0,!d&&!o&&(e.lng?Ae(a,e.lng,c,()=>{y.current&&k(p)}):Oe(a,c,()=>{y.current&&k(p)})),d&&j&&j!==S&&y.current&&k(p);function w(){y.current&&k(p)}return x&&a&&a.on(x,w),$&&a&&a.store.on($,w),()=>{y.current=!1,x&&a&&x.split(" ").forEach(L=>a.off(L,w)),$&&a&&$.split(" ").forEach(L=>a.store.off(L,w))}},[a,S]),b.useEffect(()=>{y.current&&d&&k(g)},[a,l,d]);const N=[m,a,d];if(N.t=m,N.i18n=a,N.ready=d,d||!d&&!o)return N;throw new Promise(x=>{e.lng?Ae(a,e.lng,c,()=>x()):Oe(a,c,()=>x())})}const{slice:Mt,forEach:Ut}=[];function Vt(t){return Ut.call(Mt.call(arguments,1),e=>{if(e)for(const s in e)t[s]===void 0&&(t[s]=e[s])}),t}const Re=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,qt=(t,e,s)=>{const n=s||{};n.path=n.path||"/";const r=encodeURIComponent(e);let a=`${t}=${r}`;if(n.maxAge>0){const i=n.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(i)}`}if(n.domain){if(!Re.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!Re.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a},Ee={create(t,e,s,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+s*60*1e3)),n&&(r.domain=n),document.cookie=qt(t,encodeURIComponent(e),r)},read(t){const e=`${t}=`,s=document.cookie.split(";");for(let n=0;n<s.length;n++){let r=s[n];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(t){this.create(t,"",-1)}};var zt={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Ee.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:s,cookieMinutes:n,cookieDomain:r,cookieOptions:a}=e;s&&typeof document<"u"&&Ee.create(s,t,n,r,a)}},Kt={name:"querystring",lookup(t){var e;let{lookupQuerystring:s}=t,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&((e=window.location.hash)==null?void 0:e.indexOf("?"))>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const a=r.substring(1).split("&");for(let i=0;i<a.length;i++){const o=a[i].indexOf("=");o>0&&a[i].substring(0,o)===s&&(n=a[i].substring(o+1))}}return n}};let _=null;const Pe=()=>{if(_!==null)return _;try{_=window!=="undefined"&&window.localStorage!==null;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{_=!1}return _};var Bt={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Pe())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:s}=e;s&&Pe()&&window.localStorage.setItem(s,t)}};let Y=null;const Ie=()=>{if(Y!==null)return Y;try{Y=window!=="undefined"&&window.sessionStorage!==null;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Y=!1}return Y};var Jt={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Ie())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:s}=e;s&&Ie()&&window.sessionStorage.setItem(s,t)}},Ht={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:s,userLanguage:n,language:r}=navigator;if(s)for(let a=0;a<s.length;a++)e.push(s[a]);n&&e.push(n),r&&e.push(r)}return e.length>0?e:void 0}},Wt={name:"htmlTag",lookup(t){let{htmlTag:e}=t,s;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(s=n.getAttribute("lang")),s}},_t={name:"path",lookup(t){var e;let{lookupFromPathIndex:s}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(e=n[typeof s=="number"?s:0])==null?void 0:e.replace("/",""):void 0}},Yt={name:"subdomain",lookup(t){var e,s;let{lookupFromSubdomainIndex:n}=t;const r=typeof n=="number"?n+1:1,a=typeof window<"u"&&((s=(e=window.location)==null?void 0:e.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[r]}};function Qt(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t}}class Be{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=Vt(s,this.options||{},Qt()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(zt),this.addDetector(Kt),this.addDetector(Bt),this.addDetector(Jt),this.addDetector(Ht),this.addDetector(Wt),this.addDetector(_t),this.addDetector(Yt)}addDetector(e){return this.detectors[e.name]=e,this}detect(e){e||(e=this.options.order);let s=[];return e.forEach(n=>{if(this.detectors[n]){let r=this.detectors[n].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(s=s.concat(r))}}),s=s.map(n=>this.options.convertDetectedLanguage(n)),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(e,s){s||(s=this.options.caches),s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||s.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}Be.type="languageDetector";const Gt={en:{translation:{previous:"Previous",next:"Next",requiredField:"This field is required.",invalidEmail:"Please enter a valid email address.",invalidUrl:"Please enter a valid URL.",invalidNumber:"Please enter a valid number.",minValue:"Value must be at least {{min}}.",maxValue:"Value must be no more than {{max}}.",patternMismatch:"The input does not match the required pattern.",reviewAnswers:"Review Your Answers",reviewInstructions:"Please check your answers below before submitting.",editAnswers:"Edit Answers",submit:"Confirm & Submit",submitting:"Submitting...",results:"Results",totalScore:"Total Score",yourAnswer:"Your Answer:",notAnswered:"Not answered",correctAnswer:"Correct Answer:",explanation:"EXPLANATION",chooseAsMany:"Choose as many as you like.",chooseFile:"Choose File",fileTooLarge:"File is too large. Max size is {{size}}MB.",invalidFileType:"Only image files are allowed.",disagree:"Disagree",agree:"Agree"}},fr:{translation:{previous:"Prcdent",next:"Suivant",requiredField:"Ce champ est obligatoire.",invalidEmail:"Veuillez saisir une adresse e-mail valide.",invalidUrl:"Veuillez saisir une URL valide.",invalidNumber:"Veuillez saisir un nombre valide.",minValue:"La valeur doit tre au moins de {{min}}.",maxValue:"La valeur ne doit pas dpasser {{max}}.",patternMismatch:"L'entre ne correspond pas au format requis.",reviewAnswers:"Vrifiez vos rponses",reviewInstructions:"Veuillez vrifier vos rponses ci-dessous avant de soumettre.",editAnswers:"Modifier les rponses",submit:"Confirmer et Soumettre",submitting:"Soumission en cours...",results:"Rsultats",totalScore:"Score Total",yourAnswer:"Votre rponse :",notAnswered:"Pas de rponse",correctAnswer:"Bonne rponse :",explanation:"EXPLICATION",chooseAsMany:"Choisissez-en autant que vous le souhaitez.",chooseFile:"Choisir un fichier",fileTooLarge:"Le fichier est trop volumineux. La taille maximale est de {{size}}MB.",invalidFileType:"Seuls les fichiers image sont autoriss.",disagree:"Pas d'accord",agree:"D'accord"}},ar:{translation:{previous:"",next:"",requiredField:"  .",invalidEmail:"     .",invalidUrl:"   URL .",invalidNumber:"   .",minValue:"    {{min}}  .",maxValue:"     {{max}}.",patternMismatch:"     .",reviewAnswers:" ",reviewInstructions:"      .",editAnswers:" ",submit:" ",submitting:" ...",results:"",totalScore:" ",yourAnswer:":",notAnswered:"  ",correctAnswer:" :",explanation:"",chooseAsMany:"   .",chooseFile:" ",fileTooLarge:"  .    {{size}} .",invalidFileType:"   .",disagree:" ",agree:""}}};R.use(Be).use(Pt).init({resources:Gt,fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["queryString","cookie","localStorage","navigator","htmlTag"],caches:["cookie","localStorage"]}});var Fe={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De;function Xt(){if(De)return Q;De=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(n,r,a){var i=null;if(a!==void 0&&(i=""+a),r.key!==void 0&&(i=""+r.key),"key"in r){a={};for(var o in r)o!=="key"&&(a[o]=r[o])}else a=r;return r=a.ref,{$$typeof:t,type:n,key:i,ref:r!==void 0?r:null,props:a}}return Q.Fragment=e,Q.jsx=s,Q.jsxs=s,Q}var Te;function Zt(){return Te||(Te=1,Fe.exports=Xt()),Fe.exports}var u=Zt();const ne=(t,e)=>{if(!t)return!0;const s=Object.keys(e),n=Object.values(e);try{return!!new Function(...s,`"use strict"; return ${t}`)(...n)}catch(r){return r instanceof ReferenceError||console.error("Error evaluating condition:",t,r),!1}},F=({element:t,value:e,onChange:s,error:n})=>{var r,a;const i=b.useRef(null);b.useEffect(()=>{t.autofocus&&i.current&&i.current.focus()},[t.autofocus]);const o=t.labelStyle==="classic"||t.subfield,l=t.fieldSize==="sm",c=`block font-bold mb-1 ${o||l?"text-sm":"text-base"} ${n?"text-red-700 dark:text-red-500":"text-gray-700 dark:text-gray-300"}`,d=`text-gray-500 dark:text-gray-400 mb-2 ${o||l?"text-xs":"text-sm"}`,h=`shadow appearance-none border rounded w-full py-3 px-4 bg-white text-gray-700 dark:text-gray-300 dark:bg-gray-700 leading-tight focus:outline-none focus:ring-2 disabled:bg-gray-200 dark:disabled:bg-gray-600 ${l?"text-sm":"text-base"} ${n?"border-red-500 focus:ring-red-500":"dark:border-gray-600 focus:ring-blue-500"}`,g=((r=t.attrs)==null?void 0:r.reduce((m,{name:k,value:S})=>({...m,[k]:S}),{}))||{},p=u.jsx("input",{ref:i,type:t.type==="text"?"text":t.type,className:h,value:e||t.value||"",onChange:m=>s(m.target.value),placeholder:t.placeholder,required:t.required,disabled:t.disabled,maxLength:t.maxlength,pattern:t.pattern,min:t.min,max:t.max,step:t.step,...g});return u.jsxs("div",{className:`w-full mb-4 ${(a=t.classNames)==null?void 0:a.join(" ")}`,id:t.id,children:[t.question&&u.jsxs("label",{className:c,children:[u.jsx("span",{className:"me-2",children:t.question}),t.required&&u.jsx("span",{className:"text-red-500 me-2",children:"*"}),t.score!==void 0&&u.jsxs("span",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 text-xs font-bold rounded-full",children:[t.score," pts"]})]}),t.description&&u.jsx("p",{className:d,children:t.description}),t.unit||t.unitEnd?u.jsxs("div",{className:"flex items-center",children:[t.unit&&u.jsx("span",{className:"me-2 text-gray-500 dark:text-gray-400",children:t.unit}),p,t.unitEnd&&u.jsx("span",{className:"ms-2 text-gray-500 dark:text-gray-400",children:t.unitEnd})]}):p,n&&u.jsx("p",{className:"text-red-500 text-xs italic mt-2",children:n})]})},es=({element:t,value:e,onChange:s,error:n})=>{var r,a;const i=b.useRef(null);b.useEffect(()=>{t.autofocus&&i.current&&i.current.focus()},[t.autofocus]);const o=t.labelStyle==="classic"||t.subfield,l=t.fieldSize==="sm",c=`block font-bold mb-1 ${o||l?"text-sm":"text-base"} ${n?"text-red-700 dark:text-red-500":"text-gray-700 dark:text-gray-300"}`,d=`text-gray-500 dark:text-gray-400 mb-2 ${o||l?"text-xs":"text-sm"}`,h=`shadow appearance-none border rounded w-full py-3 px-4 bg-white text-gray-700 dark:text-gray-300 dark:bg-gray-700 leading-tight focus:outline-none focus:ring-2 disabled:bg-gray-200 dark:disabled:bg-gray-600 ${l?"text-sm":"text-base"} ${n?"border-red-500 focus:ring-red-500":"dark:border-gray-600 focus:ring-blue-500"}`,g=((r=t.attrs)==null?void 0:r.reduce((p,{name:m,value:k})=>({...p,[m]:k}),{}))||{};return u.jsxs("div",{className:`w-full mb-4 ${(a=t.classNames)==null?void 0:a.join(" ")}`,id:t.id,children:[t.question&&u.jsxs("label",{className:c,children:[u.jsx("span",{className:"me-2",children:t.question}),t.required&&u.jsx("span",{className:"text-red-500 me-2",children:"*"}),t.score!==void 0&&u.jsxs("span",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 text-xs font-bold rounded-full",children:[t.score," pts"]})]}),t.description&&u.jsx("p",{className:d,children:t.description}),u.jsx("textarea",{ref:i,className:h,rows:t.rows||4,value:e||t.value||"",onChange:p=>s(p.target.value),placeholder:t.placeholder,required:t.required,disabled:t.disabled,maxLength:t.maxlength,...g}),n&&u.jsx("p",{className:"text-red-500 text-xs italic mt-2",children:n})]})},ts=t=>t.map(e=>typeof e=="string"?{label:e,value:e}:{label:e.label,value:e.value||e.label}),ss=({element:t,value:e,onChange:s,error:n})=>{const{t:r}=z(),a=g=>{const p=Array.isArray(e)?e:[];p.includes(g)?s(p.filter(m=>m!==g)):s([...p,g])},i=t.labelStyle==="classic"||t.subfield,o=t.fieldSize==="sm",l=`block font-bold mb-1 ${i||o?"text-sm":"text-base"} ${n?"text-red-700 dark:text-red-500":"text-gray-700 dark:text-gray-300"}`,c=`text-gray-500 dark:text-gray-400 mb-2 ${i||o?"text-xs":"text-sm"}`,d=ts(t.choices||[]),h=e??t.checked??(t.multiple?[]:"");return u.jsxs("div",{className:`w-full mb-4 p-1 rounded-lg ${n?"ring-2 ring-red-500":""}`,children:[t.question&&u.jsxs("div",{className:`${l} mb-2`,children:[u.jsx("span",{className:"me-2",children:t.question}),t.required&&u.jsx("span",{className:"text-red-500 me-2",children:"*"}),t.score!==void 0&&u.jsxs("span",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 text-xs font-bold rounded-full",children:[t.score," pts"]})]}),t.description&&u.jsx("p",{className:c,children:t.description}),t.multiple&&!t.hideFormText&&u.jsx("p",{className:c,children:r("chooseAsMany")}),u.jsx("div",{className:`space-y-2 ${t.horizontal?"flex space-x-4 space-y-0":""}`,children:d.map(g=>{const p=t.multiple?h&&h.includes(g.value):h===g.value,m=["flex","items-center","p-3","w-full","rounded-lg","border","cursor-pointer","transition-colors",!t.disabled&&"hover:bg-gray-50",!t.disabled&&"dark:hover:bg-gray-700",p?"border-blue-500 ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"].filter(Boolean).join(" ");return u.jsxs("label",{className:m,children:[u.jsx("input",{type:t.multiple?"checkbox":"radio",name:t.name,value:g.value,checked:p,onChange:()=>t.multiple?a(g.value):s(g.value),disabled:t.disabled,className:"h-5 w-5 text-blue-600"}),u.jsx("span",{className:"ms-3 text-gray-800 dark:text-gray-200",children:g.label})]},g.value)})}),n&&u.jsx("p",{className:"text-red-500 text-xs italic mt-2 ps-1",children:n})]})},ns=({filled:t,onMouseEnter:e,onClick:s,onMouseLeave:n})=>u.jsx("svg",{onMouseEnter:e,onClick:s,onMouseLeave:n,className:`w-8 h-8 cursor-pointer transition-colors ${t?"text-yellow-400":"text-gray-300 dark:text-gray-600 hover:text-yellow-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),rs=({filled:t,onMouseEnter:e,onClick:s,onMouseLeave:n})=>u.jsx("svg",{onMouseEnter:e,onClick:s,onMouseLeave:n,className:`w-8 h-8 cursor-pointer transition-colors ${t?"text-red-500":"text-gray-300 dark:text-gray-600 hover:text-red-400"}`,fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),as=({element:t,value:e,onChange:s,error:n})=>{const[r,a]=b.useState(void 0),i=Math.min(Math.max(t.outOf||5,1),10),o=t.icon==="heart"||t.icon==="hearts"?rs:ns,l=e??t.value,c=t.labelStyle==="classic"||t.subfield,d=t.fieldSize==="sm",h=`block font-bold mb-1 ${c||d?"text-sm":"text-base"} ${n?"text-red-700 dark:text-red-500":"text-gray-700 dark:text-gray-300"}`,g=`text-gray-500 dark:text-gray-400 mb-2 ${c||d?"text-xs":"text-sm"}`;return u.jsxs("div",{className:"w-full mb-4",children:[t.question&&u.jsxs("div",{className:`${h} mb-2`,children:[u.jsx("span",{className:"mr-2",children:t.question}),t.required&&u.jsx("span",{className:"text-red-500 mr-2",children:"*"}),t.score!==void 0&&u.jsxs("span",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 text-xs font-bold rounded-full",children:[t.score," pts"]})]}),t.description&&u.jsx("p",{className:g,children:t.description}),u.jsx("div",{className:"flex items-center space-x-1",onMouseLeave:()=>a(void 0),children:[...Array(i)].map((p,m)=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx(o,{filled:(r||l)>m,onMouseEnter:()=>!t.disabled&&a(m+1),onClick:()=>!t.disabled&&s(m+1),onMouseLeave:()=>{}}),!t.hideLabels&&u.jsx("span",{className:"text-xs text-gray-500 mt-1",children:m+1})]},m))}),n&&u.jsx("p",{className:"text-red-500 text-xs italic mt-2",children:n})]})},is=({element:t,value:e,onChange:s})=>{const n=e===!0||t.value===!0,r=t.labelStyle==="classic"||t.subfield,a=t.fieldSize==="sm",i=`text-gray-800 dark:text-gray-200 font-medium ${r||a?"text-sm":"text-base"}`,o=`text-gray-500 dark:text-gray-400 ${r||a?"text-xs":"text-sm"}`;return u.jsx("div",{className:"w-full mb-4",children:u.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{children:[t.question&&u.jsxs("div",{className:i,children:[u.jsx("span",{className:"me-2",children:t.question}),t.required&&u.jsx("span",{className:"text-red-500 me-2",children:"*"}),t.score!==void 0&&u.jsxs("span",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 text-xs font-bold rounded-full",children:[t.score," pts"]})]}),t.description&&u.jsx("p",{className:o,children:t.description})]}),u.jsx("button",{type:"button",className:`${n?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"} relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50`,role:"switch","aria-checked":n,onClick:()=>!t.disabled&&s(!n),disabled:t.disabled,children:u.jsx("span",{className:`${n?"translate-x-5":"translate-x-0"} rtl:-translate-x-5 pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out`})})]})})},os=t=>Array.isArray(t)?t.map(e=>typeof e=="string"?{label:e,value:e}:{label:e.label,value:e.value||e.label}):typeof t=="object"&&t!==null?Object.entries(t).map(([e,s])=>({label:String(s),value:e})):[],ls=({element:t,value:e,onChange:s,error:n})=>{const r=t.labelStyle==="classic"||t.subfield,a=t.fieldSize==="sm",i=`block font-bold mb-1 ${r||a?"text-sm":"text-base"} ${n?"text-red-700 dark:text-red-500":"text-gray-700 dark:text-gray-300"}`,o=`text-gray-500 dark:text-gray-400 mb-2 ${r||a?"text-xs":"text-sm"}`,l=`shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:ring-2 disabled:bg-gray-200 dark:disabled:bg-gray-600 ${a?"text-sm":"text-base"} ${n?"border-red-500 focus:ring-red-500":"dark:border-gray-600 focus:ring-blue-500"}`,c=os(t.options||[]),d=e??t.selected??"";return u.jsxs("div",{className:"w-full mb-4",children:[t.question&&u.jsxs("label",{className:i,children:[u.jsx("span",{className:"me-2",children:t.question}),t.required&&u.jsx("span",{className:"text-red-500 me-2",children:"*"}),t.score!==void 0&&u.jsxs("span",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 text-xs font-bold rounded-full",children:[t.score," pts"]})]}),t.description&&u.jsx("p",{className:o,children:t.description}),u.jsxs("select",{className:l,value:d,onChange:h=>s(h.target.value),required:t.required,disabled:t.disabled,children:[t.placeholder&&u.jsx("option",{value:"",disabled:!0,children:t.placeholder}),c.map(h=>u.jsx("option",{value:h.value,children:h.label},h.value))]}),n&&u.jsx("p",{className:"text-red-500 text-xs italic mt-2",children:n})]})},us=({element:t,value:e,onChange:s,error:n})=>{var r;const a=h=>{const g=Array.isArray(e)?e:[];g.includes(h)?s(g.filter(p=>p!==h)):s([...g,h])},i=t.labelStyle==="classic"||t.subfield,o=t.fieldSize==="sm",l=`block font-bold mb-1 ${i||o?"text-sm":"text-base"} ${n?"text-red-700 dark:text-red-500":"text-gray-700 dark:text-gray-300"}`,c=`text-gray-500 dark:text-gray-400 mb-2 ${i||o?"text-xs":"text-sm"}`,d=e??t.checked??(t.multiple?[]:"");return u.jsxs("div",{className:`w-full mb-4 p-1 rounded-lg ${n?"ring-2 ring-red-500":""}`,children:[t.question&&u.jsxs("div",{className:`${l} mb-2`,children:[u.jsx("span",{className:"me-2",children:t.question}),t.required&&u.jsx("span",{className:"text-red-500 me-2",children:"*"}),t.score!==void 0&&u.jsxs("span",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 text-xs font-bold rounded-full",children:[t.score," pts"]})]}),t.description&&u.jsx("p",{className:c,children:t.description}),t.multiple&&!t.hideFormText&&u.jsx("p",{className:c,children:"Choose as many as you like."}),u.jsx("div",{className:`grid gap-4 ${t.supersize?"grid-cols-2":"grid-cols-3"}`,children:(r=t.choices)==null?void 0:r.map(h=>{const g=t.multiple?d.includes(h.value):d===h.value;return u.jsxs("label",{className:`relative cursor-pointer rounded-lg border-2 p-2 transition-all ${g?"border-blue-500 ring-2 ring-blue-500":"border-gray-300 dark:border-gray-600"} ${t.disabled?"opacity-50 cursor-not-allowed":"hover:border-blue-400"}`,children:[u.jsx("input",{type:t.multiple?"checkbox":"radio",name:t.name,value:h.value,checked:g,onChange:()=>!t.disabled&&(t.multiple?a(h.value):s(h.value)),className:"sr-only",disabled:t.disabled}),u.jsx("img",{src:h.image||"https://picsum.photos/200",alt:h.label,className:"w-full h-auto object-cover rounded-md"}),!t.hideLabels&&u.jsx("span",{className:"block text-center mt-2 text-sm text-gray-700 dark:text-gray-300",children:h.label})]},h.value)})}),n&&u.jsx("p",{className:"text-red-500 text-xs italic mt-2 ps-1",children:n})]})},cs=({element:t,value:e,onChange:s,error:n})=>{const{t:r}=z(),a=t.startAt===0?0:1,i=t.outOf||10,o=Array.from({length:i-a+1},(p,m)=>m+a),l=e??t.value,c=t.labelStyle==="classic"||t.subfield,d=t.fieldSize==="sm",h=`block font-bold mb-1 ${c||d?"text-sm":"text-base"} ${n?"text-red-700 dark:text-red-500":"text-gray-700 dark:text-gray-300"}`,g=`text-gray-500 dark:text-gray-400 mb-2 ${c||d?"text-xs":"text-sm"}`;return u.jsxs("div",{className:"w-full mb-4",children:[t.question&&u.jsxs("div",{className:`${h} mb-2`,children:[u.jsx("span",{className:"me-2",children:t.question}),t.required&&u.jsx("span",{className:"text-red-500 me-2",children:"*"}),t.score!==void 0&&u.jsxs("span",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-300 text-xs font-bold rounded-full",children:[t.score," pts"]})]}),t.description&&u.jsx("p",{className:g,children:t.description}),u.jsx("div",{className:"flex justify-between items-center space-x-2",children:o.map(p=>{const m=l===p;return u.jsxs("label",{className:"cursor-pointer",children:[u.jsx("input",{type:"radio",name:t.name,value:p,checked:m,onChange:()=>!t.disabled&&s(p),className:"sr-only",disabled:t.disabled}),u.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full border transition-all ${m?"bg-blue-600 border-blue-600 text-white":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300"} ${!t.disabled&&"hover:border-blue-400"}`,children:p})]},p)})}),u.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600 dark:text-gray-400",children:[!t.hideLabelStart&&u.jsx("span",{children:t.labelStart||r("disagree")}),!t.hideLabelEnd&&u.jsx("span",{children:t.labelEnd||r("agree")})]}),n&&u.jsx("p",{className:"text-red-500 text-xs italic mt-2",children:n})]})},ds=({element:t,value:e,onChange:s,error:n})=>{const{t:r}=z(),[a,i]=b.useState((e==null?void 0:e.name)||t.currentFile||null),[o,l]=b.useState(null),c=b.useRef(null),d=S=>{var j;const y=(j=S.target.files)==null?void 0:j[0];if(!y){i(null),s(null),l(null);return}const N=t.sizeLimit||10,x=N*1024*1024;if(y.size>x){l(r("fileTooLarge",{size:N})),i(null),s(null),c.current&&(c.current.value="");return}if(t.imageOnly&&!y.type.startsWith("image/")){l(r("invalidFileType")),i(null),s(null),c.current&&(c.current.value="");return}l(null),i(y.name),s(y)},h=t.labelStyle==="classic"||t.subfield,g=t.fieldSize==="sm",p=`block font-bold mb-1 ${h||g?"text-sm":"text-base"} ${n||o?"text-red-700 dark:text-red-500":"text-gray-700 dark:text-gray-300"}`,m=`text-gray-500 dark:text-gray-400 mb-2 ${h||g?"text-xs":"text-sm"}`,k=n||o;return u.jsxs("div",{className:"w-full mb-4",children:[t.question&&u.jsxs("label",{className:p,children:[t.question,t.required&&u.jsx("span",{className:"text-red-500",children:"*"})]}),t.description&&u.jsx("p",{className:m,children:t.description}),u.jsxs("div",{className:"mt-2 flex items-center",children:[u.jsx("button",{type:"button",disabled:t.disabled,onClick:()=>{var S;return(S=c.current)==null?void 0:S.click()},className:`px-4 py-2 font-semibold rounded-lg border shadow-sm focus:outline-none focus:ring-2 focus:ring-opacity-75 disabled:opacity-50 ${n||o?"border-red-500 text-red-700":"bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 focus:ring-blue-500"}`,children:r("chooseFile")}),u.jsx("input",{type:"file",ref:c,className:"hidden",onChange:d,required:t.required&&!a,disabled:t.disabled,accept:t.imageOnly?"image/*":void 0}),a&&u.jsx("span",{className:"ms-4 text-gray-600 dark:text-gray-400 truncate",children:a})]}),k&&u.jsx("p",{className:"text-red-500 text-sm mt-2",children:k})]})},gs=({allSlides:t,formAnswers:e,componentMap:s,onEdit:n,onSubmit:r,isSubmitting:a,formDefinition:i})=>{const{t:o}=z(),l=t.filter(c=>c!==i.startSlide&&c!==i.endSlide);return u.jsxs("div",{className:"mx-auto my-10 p-8 bg-white dark:bg-gray-800 rounded-xl shadow-2xl",children:[u.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:o("reviewAnswers")}),u.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-8",children:o("reviewInstructions")}),u.jsx("div",{className:"space-y-6 border-t border-b border-gray-200 dark:border-gray-700 py-6",children:l.map((c,d)=>u.jsx("div",{children:c.elements.filter(h=>!(!h.name||h.displayCondition&&!ne(h.displayCondition.condition,e))).map((h,g)=>{const p=s[h.type];if(!p)return null;const m={...h,disabled:!0,autofocus:!1};return u.jsx("div",{className:"opacity-75 pointer-events-none",children:u.jsx(p,{element:m,value:e[h.name],onChange:()=>{}})},`${h.name}-${g}`)})},`preview-slide-${d}`))}),u.jsxs("div",{className:"flex justify-between mt-8",children:[u.jsx("button",{type:"button",onClick:n,disabled:a,className:"px-6 py-3 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold rounded-lg shadow-md hover:bg-gray-300 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75 disabled:opacity-50",children:o("editAnswers")}),u.jsx("button",{type:"button",onClick:r,disabled:a,className:"px-6 py-3 bg-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-75 disabled:bg-green-300 transition-all",children:o(a?"submitting":"submit")})]})]})},Je=(t,e)=>{if(e===void 0||t==null||t==="")return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;const s=t.slice().sort(),n=e.slice().sort();return JSON.stringify(s)===JSON.stringify(n)}return String(t).trim()==String(e).trim()},hs=()=>u.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ps=()=>u.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),ms=({element:t,userAnswer:e})=>{const{t:s}=z();if(t.answer===void 0||t.score===void 0)return null;const n=Je(e,t.answer),r=n?t.score:0;return u.jsxs("div",{className:`p-4 border-s-4 rounded-md mb-4 ${n?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-red-500 bg-red-50 dark:bg-red-900/20"}`,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 pe-4",children:t.question}),u.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[u.jsxs("span",{className:`font-bold ${n?"text-green-600":"text-red-600"}`,children:[r," / ",t.score," pts"]}),n?u.jsx(hs,{}):u.jsx(ps,{})]})]}),u.jsxs("div",{className:"mt-2 text-sm space-y-1",children:[u.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[s("yourAnswer")," ",u.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 rounded px-1 break-all",children:JSON.stringify(e??s("notAnswered"))})]}),!n&&u.jsxs("p",{className:"text-green-700 dark:text-green-400 font-medium",children:[s("correctAnswer")," ",u.jsx("code",{className:"bg-green-200/50 dark:bg-green-800/50 rounded px-1 break-all",children:JSON.stringify(t.answer)})]})]}),!n&&t.reason&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700/50",children:[u.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 tracking-wider",children:s("explanation")}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:t.reason})]})]})},fs=({formAnswers:t,allSlides:e})=>{const{t:s}=z(),n=e.flatMap(o=>o.elements).filter(o=>o.name),r=n.filter(o=>o.answer!==void 0&&o.score!==void 0),a=r.reduce((o,l)=>o+(Je(t[l.name],l.answer)?l.score:0),0),i=r.reduce((o,l)=>o+(l.score||0),0);return u.jsxs("div",{className:"mx-auto my-10 p-8 bg-white dark:bg-gray-800 rounded-xl shadow-2xl",children:[u.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:s("results")}),u.jsxs("div",{className:"text-center p-4 mb-8 rounded-lg bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800",children:[u.jsx("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:s("totalScore")}),u.jsxs("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:[a," / ",i]})]}),u.jsx("div",{className:"space-y-4",children:n.map(o=>u.jsx(ms,{element:o,userAnswer:t[o.name]},o.name))})]})},xs=({timeLeftInSeconds:t})=>{const e=Math.floor(t/60),s=t%60,n=t<=60?"text-red-500":t<=300?"text-yellow-500":"text-gray-800 dark:text-gray-200";return u.jsx("div",{className:"text-center top-4 right-4 bg-white dark:bg-gray-800 shadow-lg rounded-full px-4 py-2 border border-gray-200 dark:border-gray-700 z-50",children:u.jsxs("span",{className:`text-lg font-mono font-bold ${n}`,children:[String(e).padStart(2,"0"),":",String(s).padStart(2,"0")]})})},H=({element:t})=>{const{type:e,text:s}=t,n="font-bold text-gray-900 dark:text-white mb-4";switch(e){case"h1":return u.jsx("h1",{className:`text-3xl text-center ${n}`,children:s});case"h2":return u.jsx("h2",{className:`text-2xl ${n}`,children:s});case"h3":return u.jsx("h3",{className:`text-xl ${n}`,children:s});case"h4":return u.jsx("h4",{className:`text-lg ${n}`,children:s});case"h5":return u.jsx("h5",{className:`text-base font-semibold ${n}`,children:s});case"h6":return u.jsx("h6",{className:`text-sm font-semibold uppercase tracking-wider ${n}`,children:s});default:return u.jsx("p",{className:n,children:s})}},ys=({element:t})=>u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:t.text}),bs=({element:t})=>u.jsx("div",{className:"w-full flex justify-center my-4",children:u.jsx("img",{src:t.src||"https://picsum.photos/400/200",alt:t.alt||"Form image",className:"rounded-lg shadow-md max-w-full h-auto"})}),vs=()=>u.jsx("hr",{className:"my-6 border-gray-200 dark:border-gray-700"}),ks=({element:t})=>u.jsx("blockquote",{className:"ps-4 my-4 border-s-4 border-gray-300 dark:border-gray-600 italic text-gray-600 dark:text-gray-400",children:t.text}),ws=({element:t})=>!t.items||!Array.isArray(t.items)?null:u.jsx("ul",{className:"list-disc list-inside my-4 space-y-1 text-gray-700 dark:text-gray-300",children:t.items.map((e,s)=>u.jsx("li",{children:e},s))}),Ss=({element:t})=>!t.items||!Array.isArray(t.items)?null:u.jsx("ol",{className:"list-decimal list-inside my-4 space-y-1 text-gray-700 dark:text-gray-300",children:t.items.map((e,s)=>u.jsx("li",{children:e},s))}),Ns=({element:t})=>u.jsx("pre",{className:"bg-gray-800 text-white p-4 my-4 rounded-md overflow-x-auto",children:u.jsx("code",{children:t.content})}),Me={text:F,textarea:es,email:t=>u.jsx(F,{...t,element:{...t.element,type:"email"}}),url:t=>u.jsx(F,{...t,element:{...t.element,type:"url"}}),tel:t=>u.jsx(F,{...t,element:{...t.element,type:"tel"}}),password:t=>u.jsx(F,{...t,element:{...t.element,type:"password"}}),number:t=>u.jsx(F,{...t,element:{...t.element,type:"number"}}),datetime:t=>u.jsx(F,{...t,element:{...t.element,type:"datetime-local"}}),date:t=>u.jsx(F,{...t,element:{...t.element,type:"date"}}),time:t=>u.jsx(F,{...t,element:{...t.element,type:"time"}}),select:ls,choice:ss,pictureChoice:us,rating:as,opinionScale:cs,file:ds,switch:is,h1:H,h2:H,h3:H,h4:H,h5:H,h6:H,p:ys,img:bs,hr:vs,blockquote:ks,ul:ws,ol:Ss,code:Ns},js=({formDefinition:t,onSubmit:e,durationInMinutes:s,startedAt:n,language:r="en",showCorrection:a=!1})=>{const{t:i,i18n:o}=z(),[l,c]=b.useState(0),[d,h]=b.useState({}),[g,p]=b.useState(!1),[m,k]=b.useState({}),[S,j]=b.useState(!1),[y,N]=b.useState("filling"),[x,$]=b.useState(null),[w,L]=b.useState(null);b.useEffect(()=>{r&&o.language!==r&&o.changeLanguage(r),document.documentElement.lang=r,document.documentElement.dir=o.dir(r)},[r,o]);const A=b.useMemo(()=>[t.startSlide,...t.slides,t.endSlide].filter(f=>!!f),[t]),Z=b.useMemo(()=>t.endSlide?A.length-2:A.length-1,[A,t.endSlide]),T=(f,C)=>{h(v=>({...v,[f]:C})),m[f]&&k(v=>{const O={...v};return delete O[f],O})},ue=()=>{const f={},C=A[l].elements;for(const v of C){if(!v.name||v.displayCondition&&!ne(v.displayCondition.condition,d))continue;const O=d[v.name];if(v.required&&(O==null||O===""||Array.isArray(O)&&O.length===0)){f[v.name]=i("requiredField");continue}if(O){switch(v.type){case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O)||(f[v.name]=i("invalidEmail"));break;case"url":try{new URL(O)}catch{f[v.name]=i("invalidUrl")}break;case"number":if(isNaN(Number(O)))f[v.name]=i("invalidNumber");else{const te=Number(O);v.min!==void 0&&te<Number(v.min)&&(f[v.name]=i("minValue",{min:v.min})),v.max!==void 0&&te>Number(v.max)&&(f[v.name]=i("maxValue",{max:v.max}))}break}v.pattern&&(new RegExp(v.pattern).test(O)||(f[v.name]=i("patternMismatch")))}}return k(f),Object.keys(f).length===0},M=()=>{var f;for(let C=l+1;C<A.length;C++){const v=A[C];if(!((f=v.slideOptions)!=null&&f.jumpCondition)||ne(v.slideOptions.jumpCondition,d))return C}return A.length},U=()=>{if(ue())if(l===Z)j(!0);else{const f=M();f<A.length&&c(f)}},K=()=>{l>0&&(k({}),c(l-1))},V=b.useCallback(async()=>{if(!g)if(p(!0),await e(d),p(!1),t.settings.isAutoSolvable&&a)N("correction");else{const f=A.findIndex(C=>C===t.endSlide);f!==-1&&(j(!1),c(f))}},[g,e,d,t,A,a]);b.useEffect(()=>{if(!s)return;const f=n?new Date(n):new Date,C=new Date(f.getTime()+s*60*1e3);$(C);const v=Math.max(0,Math.floor((C.getTime()-new Date().getTime())/1e3));L(v)},[s,n]),b.useEffect(()=>{if(!x)return;if(Math.floor((x.getTime()-new Date().getTime())/1e3)<=0){y==="filling"&&V();return}const f=setInterval(()=>{const C=Math.max(0,Math.floor((x.getTime()-new Date().getTime())/1e3));L(C),C<=0&&(clearInterval(f),y==="filling"&&V())},1e3);return()=>clearInterval(f)},[x,V,y]);const E=()=>{j(!1)};if(y==="correction")return u.jsx(fs,{formDefinition:t,allSlides:A,formAnswers:d});if(S)return u.jsx(gs,{allSlides:A,formAnswers:d,componentMap:Me,onEdit:E,onSubmit:V,isSubmitting:g,formDefinition:t});const P=A[l];if(!P)return null;const D=!!t.endSlide&&P===t.endSlide,ee=l===0,ce=w!==null&&w<=0,He=(l+1)/A.length*100;return u.jsxs(u.Fragment,{children:[s&&w!==null&&u.jsx(xs,{timeLeftInSeconds:w}),u.jsxs("div",{className:"mx-auto my-10 p-8 bg-white dark:bg-gray-800 rounded-xl shadow-2xl transition-all duration-500",children:[u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mb-6",children:u.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${He}%`,transition:"width 0.5s ease-in-out"}})}),u.jsxs("form",{onSubmit:f=>f.preventDefault(),noValidate:!0,children:[P.elements.map((f,C)=>{if(f.displayCondition&&!ne(f.displayCondition.condition,d))return null;const v=Me[f.type];if(!v)return console.warn("Unknown element type:",f.type),u.jsxs("div",{className:"text-red-500",children:["Unknown element type: ",f.type]},C);const O=!!f.name;return u.jsx(v,{element:{...f,disabled:f.disabled||ce},value:O?d[f.name]:void 0,onChange:O?te=>T(f.name,te):void 0,error:O?m[f.name]:void 0},`${f.name||f.type}-${C}`)}),u.jsxs("div",{className:"flex justify-between mt-8",children:[!ee&&!D?u.jsx("button",{type:"button",onClick:K,disabled:ce,className:"px-6 py-3 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 font-semibold rounded-lg shadow-md hover:bg-gray-300 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75 transition-all disabled:opacity-50",children:i("previous")}):u.jsx("div",{}),D?null:u.jsx("button",{type:"button",onClick:U,disabled:ce,className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition-all disabled:opacity-50",children:i("next")})]})]})]})]})};function As(){const{t}=We(),{id:e}=_e(),[s,n]=b.useState(),{data:r,isLoading:a}=Ge({queryKey:["assignment-details",e],queryFn:()=>de.show(e),enabled:!!e,refetchOnWindowFocus:!1}),i=fe({mutationFn:()=>de.startAssignment(e),onSuccess:d=>{xe.info(t("app.assignments.exam-started")),n(d)},onError:d=>{}}),o=fe({mutationFn:d=>de.submitAnswers(e,d),onSuccess:()=>{xe.success(t("app.assignments.answers-submitted"))},onError:d=>{}}),l=b.useCallback(()=>{console.log(i.status),i.isIdle&&i.mutate()},[i]),c=b.useCallback(d=>{o.isIdle&&o.mutate(d)},[o]);return a||i.isPending?q.jsx(ye,{children:q.jsx(Ye,{active:!0})}):!r||r===void 0?q.jsx(ye,{children:t("common.no-data")}):!s||s===void 0?q.jsx(Xe,{assignment:r,onStart:l}):q.jsx("div",{className:"min-h-screen text-gray-900 dark:text-white flex flex-col items-center p-4",children:q.jsx(Qe,{direction:"vertical",size:"large",className:"w-full",children:q.jsx(js,{formDefinition:s,onSubmit:c,startedAt:s.startedAt,durationInMinutes:r.durationInMinutes,language:"ar"})})})}export{As as default};
